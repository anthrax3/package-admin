angular.module("neContentEditors",[]).service("neMarkdown",["$document","neReMarked","neMarked",function(e,t,n){function i(e,t,n){var i=e.inputValue.substring(e.start-t.length,e.start),r=e.inputValue.substring(e.end,e.end+n.length);return i===t&&r===n}function r(e,t,n,r){return r=r||"toggle",function(a){var o="";return e=e||"",t=t||"",a&&a.end>a.start&&"replace"!==r?"remove"===r||"toggle"===r&&i(a,e,t)?(o=a.inputValue.substring(0,a.start-e.length)+a.value+a.inputValue.substring(a.end+t.length,a.inputValue.length),a.select(a.start-e.length,a.end-e.length)):(o=e+a.value+t,o=a.inputValue.substring(0,a.start)+o+a.inputValue.substring(a.end,a.inputValue.length),a.select(a.start+e.length,a.end+e.length)):a&&(n||""===n)&&(o=a.inputValue.substring(0,a.start)+e+n+t+a.inputValue.substring(a.end,a.inputValue.length),a.select(a.start+e.length,a.start+n.length+e.length)),o}}function a(e,t){var n,i,r="\n";for(n=1;t+3>n;n++)for(i=1;e+1>i;i++)r+=1===i?"\n":" | ",r+=1===n?"col "+i:2===n?"-----":"row "+(n-2);return r+"\n"}var o,s={link_list:!1,h1_setext:!1,h2_setext:!1,h_atx_suf:!1,gfm_code:!1,li_bullet:"*",hr_char:"-",indnt_str:"    ",bold_char:"*",emph_char:"_",gfm_del:!0,gfm_tbls:!0,tbl_edges:!1,hash_lnks:!1,br_only:!1},l=new t(s);return this.parseHTML=function(e){return l.render(e||"")},o={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1},n.setOptions(o),this.renderHTML=function(e){return n(e||"")},this.editor={bold:r("**","**","bold text"),italic:r("*","*","italic text"),strikethrough:r("~~","~~","strikethrough text"),h1:r("\n# ","","headline 1"),h2:r("\n## ","","headline 2"),h3:r("\n### ","","headline 3"),h4:r("\n#### ","","headline 4"),h5:r("\n##### ","","headline 5"),h6:r("\n###### ","","headline 6"),ol:r("\n1. ","","numbered list"),ul:r("\n- ","","bulleted list"),indent:r(" ","","","replace"),dedent:r(" ","","","remove"),blocquote:r("\n> ","","blocquote text"),hr:r("\n\n-----\n\n","","","replace"),link:function(e,t,n){return t||""===t||(t=prompt("Please enter link url","http://")),t?r("","[ "+(n||"link text")+" ]( "+t+" )","","replace")(e):""},image:function(e,t){return t||""===t||(t=prompt("Please enter image url","http://")),t?r("","![]( "+t+' "")',"","replace")(e):""},table:function(e,t,n){return t=parseInt(t,10),n=parseInt(n,10),t>0&&n>0?r("",a(t,n),"","add")(e):e.inputValue}},this}]).controller("NeMdCtrl",["$scope","neMarkdown",function(e,t){e.editor=t.editor}]).controller("NeWsCtrl",["$scope","neWysiwyg",function(e,t){e.editor=t.editor}]).factory("neWysiwyg",["$document","neModals",function(e){function t(e,t){var n,i,r,a,o,s,l,u,c=window.getSelection(),d=e.range;c.removeAllRanges(),d.deleteContents(),n=d.startContainer,i=d.startOffset,d=document.createRange(),3===n.nodeType&&3===t.nodeType?(n.insertData(i,t.nodeValue),d.setEnd(n,i+t.length),d.setStart(n,i+t.length)):(3===n.nodeType?(a=n,n=a.parentNode,o=a.nodeValue,s=o.substr(0,i),l=o.substr(i),u=document.createTextNode(s),r=document.createTextNode(l),n.insertBefore(r,a),n.insertBefore(t,r),n.insertBefore(u,t),n.removeChild(a)):(r=n.childNodes[i],n.insertBefore(t,r)),d.setEnd(r,0),d.setStart(r,0)),c.addRange(d)}function n(t,n){return function(i){return e[0].execCommand(t,!1,n),i.parent.html()}}var i=["#ffffff","#ffccc9","#ffce93","#fffc9e","#ffffc7","#9aff99","#96fffb","#cdffff","#cbcefb","#cfcfcf","#fd6864","#fe996b","#fffe65","#fcff2f","#67fd9a","#38fff8","#68fdff","#9698ed","#c0c0c0","#fe0000","#f8a102","#ffcc67","#f8ff00","#34ff34","#68cbd0","#34cdf9","#6665cd","#9b9b9b","#cb0000","#f56b00","#ffcb2f","#ffc702","#32cb00","#00d2cb","#3166ff","#6434fc","#656565","#9a0000","#ce6301","#cd9934","#999903","#009901","#329a9d","#3531ff","#6200c9","#343434","#680100","#963400","#986536","#646809","#036400","#34696d","#00009b","#303498","#000000","#330001","#643403","#663234","#343300","#013300","#003532","#010066","#340096"],r=[{name:"Extra Small",css:"xx-small",value:"1"},{name:"Small",css:"x-small",value:"2"},{name:"Medium",css:"small",value:"3"},{name:"Large",css:"medium",value:"4"},{name:"Extra Large",css:"large",value:"5"},{name:"Huge",css:"x-large",value:"6"}],a={undo:n("undo"),redo:n("redo"),bold:n("bold"),italic:n("italic"),strikethrough:n("strikeThrough"),underline:n("underline"),quote:n("quote"),h1:n("formatblock","<h1>"),h2:n("formatblock","<h2>"),h3:n("formatblock","<h3>"),h4:n("formatblock","<h4>"),h5:n("formatblock","<h5>"),h6:n("formatblock","<h6>"),fontSizes:r,fontSize:function(e,t){return n("fontsize",t)(e)},colors:i,color:function(e,t){return n("forecolor",t)(e)},bgColor:function(e,t){return n("hilitecolor",t)(e)},justifyLeft:n("justifyleft"),justifyCenter:n("justifycenter"),justifyRight:n("justifyright"),justifyFull:n("justifyfull"),ol:n("insertorderedlist"),ul:n("insertunorderedlist"),indent:n("indent"),outdent:n("outdent"),unlink:n("unlink"),link:function(e,n,i){if(n||""===n||(n=prompt("Please enter link url","http://")),n){var r=angular.element('<a href="'+n+'">'+(i||n)+"</a>");return t(e,r[0]),e.parent.html()}return""},image:function(e,n){if(n||""===n||(n=prompt("Please enter image url","http://")),n){var i=angular.element('<img src="'+n+'">');return t(e,i[0]),e.parent.html()}return""},table:function(n,i,r){var a,o,s,l,u,c,d,p,h,f;if(r=parseInt(r,10),i=parseInt(i,10),a=e[0],r>0&&i>0){for(o=a.createElement("table"),s=a.createElement("thead"),l=a.createElement("tbody"),c=a.createElement("tr"),h=0;i>h;h++)u=a.createElement("th"),p=a.createElement("br"),u.appendChild(p),c.appendChild(u);for(s.appendChild(c),f=0;r>f;f++){for(c=a.createElement("tr"),h=0;i>h;h++)d=a.createElement("td"),p=a.createElement("br"),d.appendChild(p),c.appendChild(d);l.appendChild(c)}o.appendChild(s),o.appendChild(l),t(n,o)}return n.parent.html()},hr:n("inserthorizontalrule")};return this.editor=a,this}]).directive("neContenteditable",["$sce",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){function r(e){var r=t.html();n.stripBr&&"<br>"===r&&(r=""),(e&&r||!e)&&i.$setViewValue(r)}i&&(i.$render=function(){t.html(i.$viewValue||"")},t.on("blur keyup change",function(){e.$apply(r)}),r(!0))}}}]).directive("neSelectionModel",[function(){return{restrict:"A",require:"^ngModel",scope:{ngSelModel:"="},link:function(e,t,n){function i(){function t(e,t,n){e.focus(),e.setSelectionRange?e.setSelectionRange(t,n):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",t),e.select())}function n(){var i=this,r=i.selectionStart,a=i.selectionEnd;e.$apply(function(){e.ngSelModel={parent:angular.element(i),value:i.value.substring(r,a),inputValue:i.value,start:r,end:a,select:function(e,r){setTimeout(function(){t(i,e,r),n.call(i)},0)}}})}this.setSelection=t,this.getSelection=n}function r(){function t(){}function n(){var n=this,i=angular.element(n).parents("html").parent()[0],r=i.getSelection(),a=r.getRangeAt(0).startOffset,o=r.getRangeAt(0).endOffset,s=angular.element(n);e.$apply(function(){e.ngSelModel={range:r.getRangeAt(0),parent:s,value:s.html().substring(a,o),inputValue:s.html(),start:a,startElement:r.getRangeAt(0).startContainer,end:o,endElement:r.getRangeAt(0).endContainer,select:function(e,i,r,a){var o=r||this.startElement,s=a||this.endElement;setTimeout(function(){t(n,e,i,o,s)},0)}}})}this.setSelection=t,this.getSelection=n}if("TEXTAREA"!==t[0].nodeName&&"true"!==n.contenteditable)throw new Error('ngSelModel directive can be used only on <textarea> or contentEditable="true" element');var a="TEXTAREA"===t[0].nodeName?new i:new r;t.on("mouseup keyup",a.getSelection),e.$on("$destroy",function(){t.unbind("mouseup keyup",a.getSelection),e.ngSelModel=null})}}}]).factory("neRemarked",[function(){return reMarked=function(e){function t(e,i){if(!i)return e;for(var r in e)"Object"==n(i[r])?t(e[r],i[r]):"undefined"!=typeof i[r]&&(e[r]=i[r])}function n(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t){for(var n="";t-->0;)n+=e;return n}function r(e){for(var e=e.replace(/^\s\s*/,""),t=/\s/,n=e.length;t.test(e.charAt(--n)););return e.slice(0,n+1)}function a(e,t){var n,i,r;if(!e)return"";for(n="<"+e,r=0;r<t.attributes.length;r++)i=t.attributes.item(r),n+=" "+i.nodeName+'="'+i.nodeValue+'"';return n+">"}function o(e){return e?"</"+e+">":""}function s(e,t){return e.replace(/^/gm,t)}function l(e){return("#text"==e.nodeName?"txt":e.nodeName).toLowerCase()}function u(e,t){var n,i;return t instanceof Array?(n=t[0],i=t[1]):n=i=t,n=n instanceof Function?n.call(this,e):n,i=i instanceof Function?i.call(this,e):i,n+e+i}function c(e){return e.outerHTML||function(e){var t,n=document.createElement("div");return n.appendChild(e.cloneNode(!0)),t=n.innerHTML,n=null,t}(e)}var d,p,h=[],f={link_list:!1,h1_setext:!0,h2_setext:!0,h_atx_suf:!1,gfm_code:!1,li_bullet:"*-+"[0],hr_char:"-_*"[0],indnt_str:["    ","	","  "][0],bold_char:"*_"[0],emph_char:"*_"[1],gfm_del:!0,gfm_tbls:!0,tbl_edges:!1,hash_lnks:!1,br_only:!1,col_pre:"col ",unsup_tags:{ignore:"script style noscript",inline:"span sup sub i u b center big",block2:"div form fieldset dl header footer address article aside figure hgroup section",block1c:"dt dd caption legend figcaption output",block2c:"canvas audio video iframe"},tag_remap:{i:"em",b:"strong"}};t(f,e),this.render=function(e){var t,n,r,a,o,s,u,c;if(h=[],"string"==typeof e&&(t=e,e=document.createElement("div"),e.innerHTML=t),n=new d.tag(e,null,0),r=n.rend().replace(/^[\t ]+\n/gm,"\n"),f.link_list&&h.length>0){for(r+="\n\n",a=0,o=0;o<h.length;o++)h[o].e.title&&(s=h[o].e.href.length,s&&s>a&&(a=s));for(u=0;u<h.length;u++)c=h[u].e.title?i(" ",a+2-h[u].e.href.length)+'"'+h[u].e.title+'"':"",r+="  ["+(+u+1)+"]: "+("a"==l(h[u].e)?h[u].e.href:h[u].e.src)+c+"\n"}return r.replace(/^[\t ]+\n/gm,"\n")},d={},d.tag=klass({wrap:"",lnPfx:"",lnInd:0,init:function(e,t,n){this.e=e,this.p=t,this.i=n,this.c=[],this.tag=l(e),this.initK()},initK:function(){var e,t,n,i,r,a,o,s,u,c,p,g,m,v,b,y;if(this.e.hasChildNodes()){if(t=f.unsup_tags.inline,"table"==l(this.e)&&this.e.hasChildNodes()&&!this.e.tHead){if(r=document.createElement("thead"),a=this.e.tBodies[0],o=a.rows[0],s=o.cells[0],"th"==l(s))r.appendChild(o);else for(e=0,c=o.cells.length,p=r.insertRow();e++<c;)u=document.createElement("th"),u.textContent=f.col_pre+e,p.appendChild(u);this.e.insertBefore(r,a)}for(e in this.e.childNodes)if(/\d+/.test(e)&&(n=this.e.childNodes[e],i=l(n),i in f.tag_remap&&(i=f.tag_remap[i]),!f.unsup_tags.ignore.test(i))){if("txt"==i&&/^\s+$/.test(n.textContent)){if(0==e||e==this.e.childNodes.length-1)continue;if(g=this.e.childNodes[e-1],m=this.e.childNodes[e+1],g&&!l(g).match(t)||m&&!l(m).match(t))continue}v=null,d[i]||(b=f.unsup_tags,b.inline.test(i)?i="tinl":b.block2.test(i)?i="tblk":b.block1c.test(i)?i="ctblk":b.block2c.test(i)?(i="ctblk",v=["\n\n",""]):i="rawhtml"),y=new d[i](n,this,this.c.length),v&&(y.wrap=v),(y instanceof d.a&&n.href||y instanceof d.img)&&(y.lnkid=h.length,h.push(y)),this.c.push(y)}}},rend:function(){return this.rendK().replace(/\n{3,}/gm,"\n\n")},rendK:function(){var e,t,n="";for(t=0;t<this.c.length;t++)e=this.c[t],n+=(e.bef||"")+e.rend()+(e.aft||"");return n.replace(/^\n+|\n+$/,"")}}),d.blk=d.tag.extend({wrap:["\n\n",""],wrapK:null,tagr:!1,lnInd:null,init:function(e,t,n){this.supr(e,t,n),null===this.lnInd&&(this.lnInd=this.p&&this.tagr&&this.c[0]instanceof d.blk?4:0),null===this.wrapK&&(this.wrapK=this.tagr&&this.c[0]instanceof d.blk?"\n":"")},rend:function(){return u.call(this,(this.tagr?a(this.tag,this.e):"")+u.call(this,s(s(this.rendK(),this.lnPfx),i(" ",this.lnInd)),this.wrapK)+(this.tagr?o(this.tag):""),this.wrap)},rendK:function(){var e,t,n,i=this.supr();if(this.p instanceof d.li){if(e=null,t=i.match(/^[\t ]+/gm),!t)return i;for(n=0;n<t.length;n++)(null===e||t[n][0].length<e.length)&&(e=t[n][0]);return i.replace(new RegExp("^"+e),"")}return i}}),d.tblk=d.blk.extend({tagr:!0}),d.cblk=d.blk.extend({wrap:["\n",""]}),d.ctblk=d.cblk.extend({tagr:!0}),d.inl=d.tag.extend({rend:function(){return u.call(this,this.rendK(),this.wrap)}}),d.tinl=d.inl.extend({tagr:!0,rend:function(){return a(this.tag,this.e)+u.call(this,this.rendK(),this.wrap)+o(this.tag)}}),d.p=d.blk.extend({rendK:function(){return this.supr().replace(/^\s+/gm,"")}}),d.list=d.blk.extend({expn:!1,wrap:[function(){return this.p instanceof d.li?"\n":"\n\n"},""]}),d.ul=d.list.extend({}),d.ol=d.list.extend({}),d.li=d.cblk.extend({wrap:["\n",function(e){return this.p.expn||e.match(/\n{2}/gm)?"\n":""}],wrapK:[function(){return"ul"==this.p.tag?f.li_bullet+" ":this.i+1+".  "},""],rendK:function(){return this.supr().replace(/\n([^\n])/gm,"\n"+f.indnt_str+"$1")}}),d.hr=d.blk.extend({wrap:["\n\n",i(f.hr_char,3)]}),d.h=d.blk.extend({}),d.h_setext=d.h.extend({}),f.h1_setext&&(d.h1=d.h_setext.extend({wrapK:["",function(e){return"\n"+i("=",e.length)}]})),f.h2_setext&&(d.h2=d.h_setext.extend({wrapK:["",function(e){return"\n"+i("-",e.length)}]})),d.h_atx=d.h.extend({wrapK:[function(){return i("#",this.tag[1])+" "},function(){return f.h_atx_suf?" "+i("#",this.tag[1]):""}]}),!f.h1_setext&&(d.h1=d.h_atx.extend({})),!f.h2_setext&&(d.h2=d.h_atx.extend({})),d.h3=d.h_atx.extend({}),d.h4=d.h_atx.extend({}),d.h5=d.h_atx.extend({}),d.h6=d.h_atx.extend({}),d.a=d.inl.extend({lnkid:null,rend:function(){var e=this.rendK(),t=this.e.getAttribute("href"),n=this.e.title?' "'+this.e.title+'"':"";return!t||t==e||"#"==t[0]&&!f.hash_lnks?e:f.link_list?"["+e+"] ["+(this.lnkid+1)+"]":"["+e+"]("+t+n+")"}}),d.img=d.inl.extend({lnkid:null,rend:function(){var e,t=this.e.alt,n=this.e.getAttribute("src");return f.link_list?"!["+t+"] ["+(this.lnkid+1)+"]":(e=this.e.title?' "'+this.e.title+'"':"","!["+t+"]("+n+e+")")}}),d.em=d.inl.extend({wrap:f.emph_char}),d.del=f.gfm_del?d.inl.extend({wrap:"~~"}):d.tinl.extend(),d.br=d.inl.extend({wrap:["",function(){var e=f.br_only?"<br>":"  ";return this.p instanceof d.h?"<br>":e+"\n"}]}),d.strong=d.inl.extend({wrap:i(f.bold_char,2)}),d.blockquote=d.blk.extend({lnPfx:"> ",rend:function(){return this.supr().replace(/>[ \t]$/gm,">")}}),d.pre=d.blk.extend({tagr:!0,wrapK:"\n",lnInd:0}),d.code=d.blk.extend({tagr:!1,wrap:"",wrapK:function(e){return-1!==e.indexOf("`")?"``":"`"},lnInd:0,init:function(e,t,n){if(this.supr(e,t,n),this.p instanceof d.pre)if(this.p.tagr=!1,f.gfm_code){var i=this.e.getAttribute("class");i=(i||"").split(" ")[0],0===i.indexOf("lang-")&&(i=i.substr(5)),this.wrapK=["```"+i+"\n","\n```"]}else this.wrapK="",this.p.lnInd=4}}),d.table=f.gfm_tbls?d.blk.extend({cols:[],init:function(e,t,n){this.supr(e,t,n),this.cols=[]},rend:function(){var e,t,n;for(e=0;e<this.c.length;e++)for(t=0;t<this.c[e].c.length;t++)for(n=0;n<this.c[e].c[t].c.length;n++)this.c[e].c[t].c[n].prep();return this.supr()}}):d.tblk.extend(),d.thead=f.gfm_tbls?d.cblk.extend({wrap:["\n",function(){var e,t,n,a,o="";for(e=0;e<this.p.cols.length;e++)t=this.p.cols[e],n="c"==t.a[0]?":":" ",a="r"==t.a[0]||"c"==t.a[0]?":":" ",o+=(0==e&&f.tbl_edges?"|":"")+n+i("-",t.w)+a+(e<this.p.cols.length-1||f.tbl_edges?"|":"");return"\n"+r(o)}]}):d.ctblk.extend(),d.tbody=f.gfm_tbls?d.cblk.extend():d.ctblk.extend(),d.tfoot=f.gfm_tbls?d.cblk.extend():d.ctblk.extend(),d.tr=f.gfm_tbls?d.cblk.extend({wrapK:[f.tbl_edges?"| ":"",f.tbl_edges?" |":""]}):d.ctblk.extend(),d.th=f.gfm_tbls?d.inl.extend({guts:null,wrap:[function(){var e,t=this.p.p.p.cols[this.i],n=0==this.i?"":" ",r=t.w-this.guts.length;switch(t.a[0]){case"r":e=i(" ",r);break;case"c":e=i(" ",Math.floor(r/2));break;default:e=""}return n+e},function(){var e,t=this.p.p.p.cols[this.i],n=this.i==this.p.c.length-1?"":" |",r=t.w-this.guts.length;switch(t.a[0]){case"r":e="";break;case"c":e=i(" ",Math.ceil(r/2));break;default:e=i(" ",r)}return e+n}],prep:function(){var e,t;this.guts=this.rendK(),this.rendK=function(){return this.guts},e=this.p.p.p.cols,e[this.i]||(e[this.i]={w:null,a:""}),t=e[this.i],t.w=Math.max(t.w||0,this.guts.length),this.e.align&&(t.a=this.e.align)}}):d.ctblk.extend(),d.td=d.th.extend(),d.txt=d.inl.extend({initK:function(){this.c=this.e.textContent.split(/^/gm)},rendK:function(){var e=this.c.join("").replace(/\r/gm,"");return this.p instanceof d.code||this.p instanceof d.pre||(e=e.replace(/^\s*#/gm,"\\#").replace(/\*/gm,"\\*")),0==this.i&&(e=e.replace(/^\n+/,"")),this.i==this.p.c.length-1&&(e=e.replace(/\n+$/,"")),e}}),d.rawhtml=d.blk.extend({initK:function(){this.guts=c(this.e)},rendK:function(){return this.guts}});for(p in f.unsup_tags)f.unsup_tags[p]=new RegExp("^(?:"+("inline"==p?"a|em|strong|img|code|del|":"")+f.unsup_tags[p].replace(/\s/g,"|")+")$")},!function(e,t){"function"==typeof define?define(t):"undefined"!=typeof module?module.exports=t():this[e]=t()}("klass",function(){function e(e){return r.call(t(e)?e:function(){},e,1)}function t(e){return typeof e===s}function n(e,t,n){return function(){var i,r=this.supr;return this.supr=n[u][e],i=t.apply(this,arguments),this.supr=r,i}}function i(e,i,r){for(var a in i)i.hasOwnProperty(a)&&(e[a]=t(i[a])&&t(r[u][a])&&l.test(i[a])?n(a,i[a],r):i[a])}function r(e,n){function r(){}function a(){this.init?this.init.apply(this,arguments):(n||l&&o.apply(this,arguments),c.apply(this,arguments))}r[u]=this[u];var o=this,s=new r,l=t(e),c=l?e:this,d=l?{}:e;return a.methods=function(e){return i(s,e,o),a[u]=s,this},a.methods.call(a,d).prototype.constructor=a,a.extend=arguments.callee,a[u].implement=a.statics=function(e,t){return e="string"==typeof e?function(){var n={};return n[e]=t,n}():e,i(this,e,o),this},a}var a=this,o=a.klass,s="function",l=/xyz/.test(function(){xyz})?/\bsupr\b/:/.*/,u="prototype";return e.noConflict=function(){return a.klass=o,this},a.klass=e,e}),reMarked}]).factory("neMmarked",[function(){return function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||l.defaults,this.rules=c.normal,this.options.gfm&&(this.rules=this.options.tables?c.tables:c.gfm)}function t(e,t){if(this.options=t||l.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?u.breaks:u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(){}function i(e){this.tokens=[],this.token=null,this.options=e||l.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer}function r(e,encode){return e.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function o(){}function s(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function l(t,n,a){var o,u,c,d,p;if(a||"function"==typeof n){a||(a=n,n=null),n=s({},l.defaults,n||{}),o=n.highlight,d=0;try{u=e.lex(t,n)}catch(h){return a(h)}return c=u.length,(p=function(){var e,t;try{e=i.parse(u,n)}catch(r){t=r}return n.highlight=o,t?a(t):a(null,e)})()}try{return n&&(n=s({},l.defaults,n)),i.parse(e.lex(t,n),n)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(n||l.defaults).silent)return"<p>An error occured:</p><pre>"+r(h.message+"",!0)+"</pre>";throw h}}var u,c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=a(c.item,"gm")(/bull/g,c.bullet)(),c.list=a(c.list)(/bull/g,c.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",c.html=a(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=a(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=s({},c),c.gfm=s({},c.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),c.gfm.paragraph=a(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=s({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=c,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t){for(var n,i,r,a,o,s,l,u,d,e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].split(/ *\| */);this.tokens.push(s)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),a=r[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=r[0].match(this.rules.item),n=!1,d=r.length,u=0;d>u;u++)s=r[u],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(o=c.bullet.exec(r[u+1])[0],a===o||a.length>1&&o.length>1||(e=r.slice(u+1).join("\n")+e,u=d-1)),i=n||/\n\n(?!\s*$)/.test(s),u!==d-1&&(n="\n"===s.charAt(s.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens},u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/},u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=a(u.link)("inside",u._inside)("href",u._href)(),u.reflink=a(u.reflink)("inside",u._inside)(),u.normal=s({},u),u.pedantic=s({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=s({},u.normal,{escape:a(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=s({},u.gfm,{br:a(u.br)("{2,}","*")(),text:a(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,i){var r=new t(n,i);return r.output(e)},t.prototype.output=function(e){for(var t,n,i,a,o="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),o+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?(n=this.mangle(":"===a[1].charAt(6)?a[1].substring(7):a[1]),i=this.mangle("mailto:")+n):(n=r(a[1]),i=n),o+=this.renderer.link(i,null,n);else if(a=this.rules.url.exec(e))e=e.substring(a[0].length),n=r(a[1]),i=n,o+=this.renderer.link(i,null,n);else if(a=this.rules.tag.exec(e))e=e.substring(a[0].length),o+=this.options.sanitize?r(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),o+=this.outputLink(a,{href:a[2],title:a[3]});else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=a[0].charAt(0),e=a[0].substring(1)+e;continue}o+=this.outputLink(a,t)}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),o+=this.renderer.strong(this.output(a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),o+=this.renderer.em(this.output(a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),o+=this.renderer.codespan(r(a[2],!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),o+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),o+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),o+=r(this.smartypants(a[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return o},t.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t,n="",i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t){return t?'<pre><code class="lang-'+t+'">'+r(e)+"\n</code></pre>\n":"<pre><code>"+r(e,!0)+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t){return"<h"+t+">"+e+"</h"+t+">\n"},n.prototype.hr=function(){return"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=">"},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){var e,t,n,i,r,a,o,s,l;switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth);case"code":return this.renderer.code(this.token.text,this.token.lang);case"table":for(e="",t="",r="",n=0;n<this.token.header.length;n++)a={header:!0,align:this.token.align[n]},r+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(e+=this.renderer.tablerow(r),n=0;n<this.token.cells.length;n++){for(i=this.token.cells[n],r="",o=0;o<i.length;o++)r+=this.renderer.tablecell(this.inline.output(i[o]),{header:!1,align:this.token.align[o]});t+=this.renderer.tablerow(r)}return this.renderer.table(e,t);case"blockquote_start":for(t="";"blockquote_end"!==this.next().type;)t+=this.tok();return this.renderer.blockquote(t);case"list_start":for(t="",s=this.token.ordered;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,s);case"list_item_start":for(t="";"list_item_end"!==this.next().type;)t+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":for(t="";"list_item_end"!==this.next().type;)t+=this.tok();return this.renderer.listitem(t);case"html":return l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text),this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,l.options=l.setOptions=function(e){return s(l.defaults,e),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,smartypants:!1,renderer:new n},l.Parser=i,l.parser=i.parse,l.Renderer=n,l.Lexer=e,l.lexer=e.lex,l.InlineLexer=t,l.inlineLexer=t.output,l.parse=l,"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):this.marked=l}.call(function(){return this||("undefined"!=typeof window?window:global)}()),marked}]),angular.module("neDirectives",["neObject"]).directive("neInitData",[function(){return{priority:1e3,restrict:"AE",compile:function(){return{pre:function(e,t,n){n.neInitData?e.$eval((n.neInitAs?n.neInitAs+"=":"")+n.neInitData):t.html()&&e.$eval((n.neInitAs?n.neInitAs+"=":"")+t.html()),n.neInitDone&&e.$eval(n.neInitDone);

}}}}}]).service("neKeyPressHandler",[function(){return function(e,t,n){return function(i,r,a){function o(r){r.which===t&&(i.$apply(function(){i.$eval(a[e])}),n&&r.preventDefault())}var s;s="INPUT"===r[0].nodeName?r:angular.element(document),s.bind("keydown keypress",o),i.$on("$destroy",function(){s.unbind("keydown keypress",o)})}}}]).directive("neKeypressEnter",["neKeyPressHandler",function(e){return e("neKeypressEnter",13,!0)}]).directive("neKeypressEscape",["neKeyPressHandler",function(e){return e("neKeypressEscape",27,!0)}]).directive("neKeypressRight",["neKeyPressHandler",function(e){return e("neKeypressRight",39)}]).directive("neKeypressLeft",["neKeyPressHandler",function(e){return e("neKeypressLeft",37)}]).directive("neKeypressUp",["neKeyPressHandler",function(e){return e("neKeypressUp",38)}]).directive("neKeypressDown",["neKeyPressHandler",function(e){return e("neKeypressDown",40)}]).directive("neKeypressBackspace",["neKeyPressHandler",function(e){return e("neKeypressBackspace",8)}]).directive("neLoadingStart",["$timeout",function(e){return function(t,n,i){"IMG"===n[0].nodeName&&i.$observe("src",function(){e(function(){t.$eval(i.neLoadingStart)})})}}]).directive("neLoadingEnd",["$timeout",function(e){return function(t,n,i){function r(n){e(function(){t.$eval(i.neLoadingEnd)},5),n.preventDefault()}"IMG"===n[0].nodeName&&(n.bind("load",r),t.$on("$destroy",function(){n.unbind("load",r)}))}}]).directive("neStatusIcon",[function(){return{restrict:"A",compile:function(e,t){var n='<div class="right-inner-addon">'+("reverse"!==t.neStatusIcon?'<i class="fa fa-check text-success" ng-show="'+e.attr("ng-model")+'"></i>':"")+("reverse"===t.neStatusIcon?'<i class="fa fa-times text-danger" ng-show="!'+e.attr("ng-model")+'"></i>':"")+"</div>";e.wrap(n),e.removeAttr("status-icon")}}}]).directive("neMatchHrefPath",["$window","$location",function(e,t){return{priority:-100,link:function(n,i,r){function a(){(t.path()+"/").match(new RegExp("^"+o+"[/#?].*"))?i.addClass(l):i.removeClass(l)}var o,s,l=n.$eval(r.neMatchHrefPath)||r.neMatchHrefPath;if(l){if(r.href)try{o=n.$eval(r.href)}catch(u){o=r.href}else if(s=i.find("a")[0],o=s?s.getAttribute("href"):null,s&&o)try{o=n.$eval(o.replace("{{","").replace("}}",""))}catch(u){o=o}o&&-1===o.indexOf("#")?(o=o.replace(/^http:/g,"").replace(/^https:/g,"").replace(e.location.hostname,"").replace(/\/+/g,"/"),(e.location.pathname+"/").match(new RegExp("^"+o+"[/#?].*"))?i.addClass(l):i.removeClass(l)):o&&(o=o.match(/^([^\#]*)\#([^\#\?]*).*$/),o=o?o[o.length-1]:null,o&&n.$on("$locationChangeSuccess",a),a())}}}}]).directive("neFile",[function(){return{restrict:"E",template:'<input type="file" />',replace:!0,require:"ngModel",link:function(e,t,n,i){var r=function(){e.$apply(function(){var e,r;if(n.multiple||""===n.multiple){for(e=[],r=0;r<t[0].files.length;r++)e.push(t[0].files[r]);i.$setViewValue(e)}else i.$setViewValue(t[0].files[0])})};t.attr("accept",n.accept),t.bind("change",r)}}}]).service("neFileDropArea",[function(){return this.bind=function(e,t,n){function i(e){e.stopPropagation(),e.preventDefault()}function r(t){i(t),l||(e.addClass("ne-dragover"),l=!0)}function a(t){i(t),e.removeClass("ne-dragover"),l=!1}function o(e){var i,r,o,s;a(e),i=0,r=e.dataTransfer.files,o=r[0],o&&(i+=o.fileSize,n?(s=new FileReader,s.onerror=function(e){alert("Cannot read file: "+e.target.error)},s.onload=function(){return function(e){t(e.target.result)}}(o),s[n](o)):t(r))}var s=e[0],l=!1;return s.addEventListener("dragenter",r,!1),s.addEventListener("dragover",r,!1),s.addEventListener("dragleave",a,!1),s.addEventListener("drop",o,!1),{unbind:function(){l=null,s.removeEventListener("dragenter",r,!1),s.removeEventListener("dragover",r,!1),s.removeEventListener("dragleave",a,!1),s.removeEventListener("drop",o,!1)}}},this}]).directive("neFileDropArea",["neFileDropArea",function(e){return{restrict:"A",link:function(t,n,i){var r,a=i.neFileDropArea?new RegExp(i.neFileDropArea):null;n.on("load",function(){t.setNaturalHeight(this.naturalHeight),t.setNaturalWidth(this.naturalWidth)}),r=e.bind(n,function(e){var n,r=[],o=i.neFileDrop||i.neFilesDrop||i.ondrop;for(n=0;n<e.length;n++)(!a||e[n].type.match(a))&&r.push(e[n]);t.files=r,r.length&&o&&t.$apply(o)}),t.$on("$destroy",r.unbind)}}}]).directive("neCopy",[function(){return{restrict:"A",link:function(e,t,n){function i(){e[o]=angular.copy(a)}function r(){var t,n=e[o];for(t in n)!n.hasOwnProperty(t)||"$"===t[0]&&"$"===t[1]||(a[t]=n[t])}var a=e.$eval(n.neCopy),o=e.alias||n.neCopyAlias||"$copy";e.$rollback=i,e.$commit=r,a.$commit=r,a.$rollback=i,e.$rollback()}}}]).directive("neFormChange",[function(){return{restrict:"A",require:"^form",link:function(e,t,n,i){e.$watch(function(){return i.$valid},function(t){e.$valid=e.$isValid=t,e.$eval(n.neFormChange)})}}}]).directive("neBindHtml",["$sce",function(){return{restrict:"A",link:function(e,t,n){n.$observe("neBindHtml",function(e){t.html(e)})}}}]).filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("neDragdrop",[]).directive("neDraggable",[function(){return function(e,t,n){function i(e){return e.preventDefault(),!1}function r(t){return t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("Text",this.id),this.classList.add("dragged"),n.drag&&e.$apply(n.drag),!1}function a(){return this.classList.remove("dragged"),!1}var o=t[0];"false"===n.draggable?(o.addEventListener("dragstart",i),e.$on("$destroy",function(){o.removeEventListener("dragstart",i)})):(o.draggable=!0,o.addEventListener("dragstart",r),o.addEventListener("dragend",a),e.$on("$destroy",function(){o.removeEventListener("dragstart",i),o.removeEventListener("dragend",a)}))}}]).directive("neDroppable",[function(){return function(e,t,n){function i(e){return e.dataTransfer.dropEffect="move",e.preventDefault&&e.preventDefault(),this.classList.add("dragover"),!1}function r(){return this.classList.add("dragover"),!1}function a(){return this.classList.remove("dragover"),!1}function o(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault(),this.classList.remove("dragover"),n.drop&&e.$apply(n.drop),!1}var s=t[0];s.addEventListener("dragover",i),s.addEventListener("dragenter",r),s.addEventListener("dragleave",a),s.addEventListener("drop",o),e.$on("$destroy",function(){s.removeEventListener("dragover",i),s.removeEventListener("dragenter",r),s.removeEventListener("dragleave",a),s.removeEventListener("drop",o)})}}]),angular.module("neGrid",["neObject","neLocal"]).run(["$templateCache",function(e){e.put("neGrid/pagination.html",'<div ng-if="!paginationDisabled" class="row text-{{fontSize}}">    <div class="col-xs-12 col-sm-9 col-md-10 text-center">        <div class="btn-group btn-group-{{size}}">           <button class="btn btn-default" ng-disabled="grid.prevDisabled" ng-click="grid.setPage(\'first\')"><span class="fa fa-fast-backward"></span></button>           <button class="btn btn-default" ng-disabled="grid.prevDisabled" ng-click="grid.setPage(\'prev\')"><span class="fa fa-backward"></span></button>        </div>        <span>           <span ng-if="grid.pagesCount"> {{\'page\'|translate}} </span>           <input type="number" class="input-{{size}} width-sm" ng-model="grid.pagination.page" min="1" max="{{grid.pagination.pages||\'\'}}" ne-keypress-enter="grid.setPage(grid.pagination.page)">           <span ng-if="grid.pagesCount"> {{\'of\'|translate}} {{grid.pagesCount}} </span>           <span ng-if="grid.pagesCount" class="hidden-xs">({{grid.pagination.count}} {{\'items\'|translate}})</span>        </span>        <div class="btn-group btn-group-{{size}}">           <button class="btn btn-default" ng-disabled="grid.nextDisabled" ng-click="grid.setPage(\'next\')"><span class="fa fa-forward"></span></button>           <button class="btn btn-default" ng-disabled="grid.nextDisabled" ng-click="grid.setPage(\'last\')"><span class="fa fa-fast-forward"></span></button>        </div>    </div>    <div class="col-sm-3 col-md-2 text-right hidden-xs">        <div class="input-group">           <input class="input-{{size}} width-sm" type="number" ng-model="grid.limit" ne-keypress-enter="grid.setPage(\'first\')" min="1" max="{{grid.maxLimit}}">           <span class="input-group-btn">               <button class="btn btn-default btn-{{size}}" ng-click="grid.setPage(\'first\')"><span class="fa fa-refresh"></span></button>           </span>        </div>    </div></div>')}]).directive("neGridPagination",[function(){return{templateUrl:"neGrid/pagination.html",scope:{grid:"=neGridPagination"},link:function(e,t,n){e.size=n.neGridPaginationSize||"sm",e.fontSize="base","xs"===e.size&&(e.fontSize="sm"),"lg"===e.size&&(e.fontSize="lg")}}}]).directive("neGridUpdateBlur",["$timeout","neObject",function(e,t){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){function a(e){f=e,f?n.addClass(l):n.removeClass(l)}function o(){s(),i.afterUpdate&&e.$eval(i.gridAfterUpdate)}function s(){a(!1),g=r.$viewValue}var l,u,c,d,p,h,f,g;if(r){if(l=i.dirtyClass||"is-dirty","ng-dirty"===l)throw new Error('dirtyClass cannot be equal to "ng-dirty", it is angular reserved class name');if(u=(i.gridUpdateBlur||"").split(","),c=u[0]||"grid",d=u[1]||"item",p=t.deepGet(e,c),h=t.deepGet(e,d),!p)throw new Error('Scope has not grid with name "'+c+'"');if(!h)throw new Error('Scope has not grid item with name "'+d+'"');f=!1,n.on("blur",function(){f&&p.updateItem(h,o)}),n.bind("keydown keypress",function(e){13===e.which&&f&&"INPUT"===n[0].nodeName&&(p.updateItem(h,o),e.preventDefault())}),g="",e.$watch(r.$viewValue,function(){g=r.$viewValue}),r.$viewChangeListeners.push(function(){a(g!==r.$viewValue?!0:!1)})}}}}]).factory("NeGrid",["$timeout","neObject",function(e,t){function n(e){var t,S=[{},n.defaults];for(t=0;t<arguments.length;t++)S.push(arguments[t]);return e=angular.merge.apply(angular,S),this.id=e.id,this.idKey=e.idKey||"id",this.defaultLimit=e.defaultLimit||10,this.limit=e.limit||this.defaultLimit,this.maxLimit=e.maxLimit||100,this.defaultQuery=e.defaultQuery||{},this.defaultSort=e.defaultSort||{},this.interceptLoad=e.interceptLoad||e.beforeLoad||e.loadInterceptor,this.onQuery=e.onQueryChange||e.onQuery||e.onFilter,this.onLoad=e.onLoad,this.onFill=e.onFill||e.onData,this.onSelect=e.onSelect,this.onFocus=e.onFocus,this.onUpdate=e.onUpdate,this.onCreate=e.onCreate,this.onRemove=e.onRemove,this.resource=e.restResource||e.resource,this.getResourceMethod=e.getResourceMethod||e.resourceMethod||("function"==typeof this.resource?this.resource:null)||r,this.autoLoad=e.autoLoad||e.loadOnChange,this.multiSelect=e.multiSelect||e.multiselect||!1,this.silentMode=!1,this.pagination={page:e.page||this.defaultQuery.$page||1},this.page=this.pagination.page,this.pagesCount=1,this.query=angular.merge({},{$page:this.page,$limit:this.limit},this.defaultQuery),this.items=[],this.disabled=!0,this.doSilent=this.doSilent,this.fillItems=a,this.addItems=o,this.addItem=o,this.appendItems=o,this.appendItem=o,this.prependItems=s,this.prependItem=s,this.setSort=l,this.setSortSilent=i("setSort"),this.setSortBy=u,this.setSortBySilent=i("setSortBy"),this.updateQuery=h,this.updateQuerySilent=i("updateQuery"),this.setQuery=p,this.setQuerySilent=i("setQuery"),this.setFilter=p,this.setFilterSilent=i("setQuery"),this.setPage=d,this.setPageSilent=i("setPage"),this.load=c,this.refresh=c,this.createItem=f,this.updateItem=g,this.refreshItem=m,this.removeItem=v,this.selectItem=$,this.selectAll=x,this.toggleItemSelection=w,this.toggleSelection=k,this.focusItem=b,this.getFocusedItem=y,this.getSelectedItems=D,this.clearSelection=C,this}function i(e){return function(){var t=this;return t.silentMode=!0,t[e].apply(t,arguments),t.silentMode=!1,t}}function r(e){if(!this.resource)throw new Error("NeGrid: resource is undefined");return this.resource[e]}function a(e,t){var n=this;return t=t||{},n.items=e,n.pagination=t,n.pagesCount=Math.ceil(t.count/n.limit),n.prevDisabled=t.page<=1?!0:!t.prev,n.nextDisabled=t.spage>=n.pagesCount?!0:!t.next,"function"!=typeof n.onFill||n.silentMode||n.onFill(n.items,n.pagination,n.query),this}function o(e){return e=Array.isArray(e)?e:[e],Array.prototype.push.apply(this.items,e),this}function s(e){return e=Array.isArray(e)?e:[e],Array.prototype.unshift.apply(this.items,e),this}function l(e,t){var n=this;return n.sort=e,n.setPage("first",t)}function u(e,t){if(e){var n={};return n[e]=t||this.sortDir,this.setSort(n)}}function c(e){var t=this;return(!t.interceptLoad||t.interceptLoad&&t.interceptLoad(t.query)!==!1)&&(t.disabled=!0,t.getResourceMethod("find")(t.query,function(n,i){"function"==typeof t.onLoad&&t.onLoad(n,i),t.fillItems(n,i),e&&e(),t.disabled=!1})),t}function d(e,t,n){var i,r;return"function"==typeof arguments[0]&&(t=arguments[0],e=null),i=this,r="number"==typeof e?e:"first"===e?1:"next"===e?i.pagination.page+1:"last"===e?i.pagesCount:"prev"===e?i.pagination.page-1:"refresh"===e||null===e?i.pagination.page||1:1,i.pagesCount&&r>i.pagesCount&&"number"!=typeof e&&(r=i.pagesCount+0),0>=r&&(r=1),i.page=r,i.updateQuery(n),i.autoLoad&&!i.silentMode?i.load(t):(t&&t(),i)}function p(e,t){var n=this;return n.query=angular.merge({},n.defaultQuery||{},e||{}),n.setPage(n.query.$page||"first",t,e),n}function h(e){var t,n=this;return e=e||{},n.page=e.$page||n.page,n.limit=e.$limit||n.limit,n.sort=e.$sort||n.sort,n.page&&("number"!=typeof n.page||n.page<=0)&&(n.page=1),!n.limit||n.limit<0?n.limit=n.defaultLimit:n.limit>n.maxLimit&&(n.limit=n.maxLimit),t=angular.merge({},e,{$limit:n.limit,$sort:{},$page:n.page}),n.sort&&(t.$sort=n.sort),t.$sort=angular.merge({},n.defaultSort||{},t.$sort||{}),0===Object.keys(t.$sort).length&&delete t.$sort,delete n.query.$page,delete n.query.$sort,delete n.query.$limit,n.query=angular.merge(t,n.query||{}),n.onQuery&&!n.silentMode&&n.onQuery(n.query),n}function f(e,t){var n=this;return n.getResourceMethod("create",e)(e,function(){n.setPage("first",t),"function"==typeof n.onCreate&&n.onCreate(e),n.autoLoad||n.load(t)}),n}function g(e,t){var n=this;return n.getResourceMethod("update",e)(e,function(i){var r=n.items.indexOf(e),a=angular.copy(e);n.items[r]=angular.extend(n.items[r],i),n.onUpdate&&n.onUpdate(n.items[r],a),t&&t(n.items[r])}),n}function m(e,n){var i=this,r=i.idKey,a={};return a[r]=t.deepGet(e,r),i.getResourceMethod("find",e)(a,function(t){var r=i.items.indexOf(e);i.items[r]=angular.extend(i.items[r],t[0]),n&&n(i.items[r])}),i}function v(e,t){var n=this;return n.getResourceMethod("remove",e)(e,function(){n.items.splice(n.items.indexOf(e),1),n.onRemove&&n.onRemove(e),t&&t(e)}),n}function b(e){var t,n=this;if(e.$focused===!0)return n;for(t=0;t<n.items.length;t++)n.items[t].$focused=!1;return e.$focused=!0,n.focusedItem=e,"function"==typeof n.onFocus&&n.onFocus(e),n}function y(){var e,t=this;for(e=0;e<t.items.length;e++)if(t.items[e].$focused===!0)return t.items[e]}function $(e,t){var n,i=this;if(!i.multiSelect)for(n=0;n<i.items.length;n++)delete i.items[n].$selected;return e.$selected="boolean"==typeof t?t:!e.$selected,"function"==typeof i.onSelect&&i.onSelect(e),i}function w(e){return this.selectItem(e)}function x(e){var t,n=this;if(!n.multiSelect)return n;for(t=0;t<n.items.length;t++)n.selectItem(n.items[t],e);return n}function k(){return this.selectAll()}function C(){var e,t=this;for(e=0;e<t.items.length;e++)delete t.items[e].$selected;return t}function D(){var e,t=this,n=[];for(e=0;e<t.items.length;e++)t.items[e].$selected===!0&&n.push(t.items[e]);return n}return n.defaults={},n.define=n.create=function(e){return new n(e)},n}]),angular.module("neLoading",[]).factory("neLoading",["$timeout",function(e){function t(e){var t=0,n=e/100;return t=n>=0&&.25>n?(3*Math.random()+3)/100:n>=.25&&.65>n?3*Math.random()/100:n>=.65&&.9>n?2*Math.random()/100:n>=.9&&.99>n?.005:0,e+Math.ceil(100*t)}var n={requestCount:0,isLoading:function(){return n.requestCount>0},statusTimeout:null,status:0,statusListeners:[],fireStatusListeners:function(){for(var t=0;t<n.statusListeners.length;t++)!function(t){e(function(){n.statusListeners[t](n.status)},0,!1)}(t)},setStatus:function(i){n.statusTimeout&&e.cancel(n.statusTimeout),i>=0&&(n.status=i),n.status>0&&n.status<99?n.statusTimeout=e(function(){n.setStatus(t(n.status))},200,!1):n.status>=100&&(n.statusTimeout=e(function(){n.setStatus(0)},300,!1)),n.fireStatusListeners()},reqStarted:function(t){n.statusTimeout&&e.cancel(n.statusTimeout),0===n.status&&n.setStatus(1),n.requestCount++,t&&console.log(t,n.requestCount,n.status)},reqEnded:function(e){n.requestCount>0&&n.requestCount--,e&&console.log(e,n.requestCount,n.status),0===n.requestCount&&n.setStatus(100)}};return n}]).factory("neLoadingInterceptor",["$q","$cacheFactory","neLoading",function(e,t,n){function i(e){var n,i;return e?"GET"!==e.method||e.cache===!1?(e.cached=!1,!1):(n=e.cache===!0?t.get("$http"):e.cache,i=void 0!==n?void 0!==n.get(e.url):!1,void 0!==e.cached&&i!==e.cached?e.cached:(e.cached=i,i)):!1}return{request:function(e){return e.ignoreLoadingBar||i(e)||n.reqStarted(),e},response:function(e){return i(e.config)||n.reqEnded(),e},responseError:function(t){return i(t.config)||n.reqEnded(),e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("neLoadingInterceptor")}]).controller("NeLoadingCtrl",["$scope","neLoading",function(e,t){t.statusListeners.push(function(n){e.status=n,e.loading=t.status>0,e.$digest()})}]),angular.module("neLocal",[]).provider("neLocal",[function(){var e="default",t={"default":{common:{}}},n="/";return this.translate=function(i){var r,a;return void 0===i||null===i?"":(r=i+"",a=t[e]||{},a.common=a.common||{},(a[n]?a[n][r]:null)||a.common[r]||(t["default"][n]?t["default"][n][r]:null)||t["default"].common[r]||r||"")},this.setPath=function(e){n=e},this.language=function(t){return t&&(e=t),e},this.languages=function(e){return e?t[e]:t},this.getLanguageId=function(){return e},this.getLanguagePath=function(){return n},this.set=this.translations=function(e,n,i,r){if(t[e]=t[e]||{},t[e].common=t[e].common||{},4===arguments.length)t[e][n]=t[e][n]||{},t[e][n][i]=r;else if(3===arguments.length&&angular.isObject(i))t[e][n]=t[e][n]||{},angular.extend(t[e][n],i);else if(3===arguments.length)r=arguments[2],i=arguments[1],t[e].common[i]=r;else{if(2!==arguments.length)throw new Error("Wrong arguments");i=arguments[1];var a=angular.isObject(i.common);angular.extend(a?t[e]:t[e].common,i)}},this.$get=function(){return this},this}]).run(["$rootScope","$location","neLocal",function(e,t,n){e.$on("$routeChangeStart",function(){n.setPath(t.path())})}]).filter("neTranslate",["neLocal",function(e){return function(t){return e.translate(t)}}]).filter("translate",["neLocal",function(e){return function(t){return e.translate(t)}}]),angular.module("neMenu",[]).factory("NeMenu",["$document","$timeout",function(e,t){function n(e,t){var n,i;if("string"!=typeof e)throw new Error("NeMenu: menu ID is required !");return r[e]?r[e]:(n={id:e},i=angular.merge(this,n,t||{}),i.items=[],r[e]=i,i)}function i(n){t(function(){function i(){t(function(){n.selected=!1,e.unbind("click",i)})}e.bind("click",i)},0,!1)}var r={};return n.prototype.set=function(e,t){var n=this;return n[e]=t,n.onChange&&n.onChange(e,t),n},n.prototype.toggle=function(e){var t=this;return t[e]=!t[e],t.onChange&&t.onChange(e,t[e]),t},n.prototype.select=n.prototype.selectItem=function(e,t){var n,r,a=this;for(t&&(e.onSelect||e.children&&e.children.length)&&(t.preventDefault(),e.selected||i(e)),r=0;r<a.items.length;r++)a.items[r].selected&&(n=a.items[r]),a.items[r].selected=a.items[r]===e?!a.items[r].selected:!1;return a.onSelect&&a.onSelect(e,n),e.onSelect&&e.onSelect(e,n),a},n.prototype.get=n.prototype.getItem=function a(e,t){var n,i,r=this,o=(t?t.children:r.items)||[];for(i=0;i<o.length;i++)if(o[i].id===e)return o[i];for(i=0;i<o.length;i++)if(o[i].children&&(n=a(e,o[i])))return n},n.get=function(e){return r[e]},n}]),angular.module("neModals",[]).factory("neModals",["$timeout","$sce",function(e,t){function n(e){e=e||i.defaults;for(var n in e)this[n]=e[n];return this.id=e.id||"modal_"+Object.keys(i.items).length,this.backdrop=!0,e.backdrop===!1&&(this.backdrop=!1),this.backdropOpacity=this.backdropOpacity||i.defaults.backdropOpacity,this.css=this.css||i.defaults.css,this.zIndex=i.defaults.zIndex,this.showAfterCreate=void 0===this.showAfterCreate?!0:this.showAfterCreate,this.removeOnClose=void 0===this.removeOnClose?!0:this.removeOnClose,this.destroyOnClose=void 0===this.destroyOnClose?!0:this.destroyOnClose,this.html=this.html?t.trustAsHtml(this.html):"",this.include=this.include||this.templateUrl||this.bodyTemplateUrl,this.show=this.open=function(){this.visible||(this.visible=!0,0===i.opened&&angular.element(document.getElementsByTagName("body")).addClass("modal-open"),i.opened++,this.zIndex=i.defaults.zIndex+11*i.opened,i.fireChangeListeners())},this.hide=this.close=function(){this.visible&&(this.visible=!1,i.opened--,this.removeOnClose&&this.destroyOnClose&&i.remove(this.id),0===i.opened&&angular.element(document.getElementsByTagName("body")).removeClass("modal-open"),i.fireChangeListeners(),"function"==typeof this.onClose&&this.onClose())},i.items[this.id]=this,this.showAfterCreate?this.show():i.fireChangeListeners(),this}var i={items:{},defaults:{visible:!1,backdrop:!0,backdropOpacity:.4,css:"",removeOnClose:!1,destroyOnClose:!1,showAfterCreate:!0,title:"modal title",zIndex:1040,text:"",html:"",include:"",buttons:[{text:"Cancel",disabled:!1,css:"btn-default",click:function(){}},{text:"Ok",disabled:!1,css:"btn-primary",click:function(){}}]},opened:0,changeListeners:[],fireChangeListeners:function(){for(var t=0;t<this.changeListeners.length;t++)!function(t){e(function(){i.changeListeners[t](i.items)},0,!1)}(t)}};return i.create=function(e){return new n(e)},i.get=function(e){return i.items[e]},i.remove=function(e){delete i.items[e]},i}]).controller("NeModalsCtrl",["$scope","neModals",function(e,t){t.changeListeners.push(function(t){e.modals=t,e.$digest()})}]).directive("neModalsContainer",[function(){return{templateUrl:"neModals/container.html"}}]).run(["$templateCache",function(e){e.put("neModals/container.html",'<div ng-controller="NeModalsCtrl">    <div ng-repeat="(id,modal) in modals">        <div class="modal ng-hide" ng-show="modal.visible" style="z-index:{{modal.zIndex}};">            <div class="modal-dialog {{modal.css}}" ng-class="{\'modal-full\':modal.wide,\'modal-lg\':modal.large||modal.lg,\'modal-xs\':modal.small||modal.xs}">                <div class="modal-content">                    <div class="modal-header">                        <button class="close" ng-click="modal.hide()"><i class="fa fa-times fa-fw fa-lg"></i></button>                        <button class="close" ng-click="modal.wide = !modal.wide">                            <i style="font-size:15px;margin-right:5px;" class="fa fa-fw" ng-class="{\'fa-expand\':!modal.wide,\'fa-compress\':modal.wide}"></i>                        </button>                        <h4 class="modal-title">{{modal.title|translate}}</h4>                    </div>                    <div class="modal-body">                        {{modal.text|translate}}                        <div ng-bind-html="modal.html"></div>                        <div ng-include="modal.include"></div>                    </div>                    <div class="modal-footer" ng-show="modal.buttons">                        <button ng-repeat="button in modal.buttons" type="button" ng-disabled="button.disabled" class="{{button.css}}" ng-click="button.click()">{{button.text|translate}}</button>                    </div>                </div>            </div>        </div>        <div class="modal-backdrop in" ng-show="modal.visible && modal.backdrop" ng-style="{\'z-index\':modal.zIndex-10,\'opacity\':modal.opacity}"></div>    </div></div>')}]),angular.module("neNotifications",["neLoading"]).factory("neNotifications",["$timeout",function(e){function t(e,t,n,i){2===i.length&&"string"!=typeof i[1]&&(n=i[1],t=i[0],e="")}var n=this;return n.timeout=3e3,n.queue=[],n.changeListeners=[],n.fireListeners=function(){for(var t=0;t<n.changeListeners.length;t++)!function(t){e(function(){n.changeListeners[t](n.queue)},0,!1)}(t)},n.add=n.show=n.create=function(t,i,r,a,o){function s(){n.remove(this.id)}function l(e){e=e||{},delete e.id;var t=n.getIndex(this.id);return t>-1&&(n.queue[t]=angular.merge(this,e)),n.fireListeners(),this}function u(t){var i,r=this;r.timeoutPromise&&e.cancel(r.timeoutPromise),r.fixed||"number"!=typeof t||(i=r.timeout-((new Date).getTime()-r.showTime),i=0>i?0:i,r.showTime=(new Date).getTime(),r.timeout=i+t,r.timeoutPromise=e(function(){n.remove(r.id)},r.timeout,!1))}var c,d,p,h={};return 4===arguments.length&&"string"!=typeof arguments[3]?(o=arguments[3],a=""):3===arguments.length&&"string"!=typeof arguments[2]?(o=arguments[2],r=arguments[1],i=""):2===arguments.length&&"string"!=typeof arguments[2]?(o=arguments[1],r=arguments[0],i="",t="info"):2===arguments.length&&"string"==typeof arguments[2]?(r=arguments[1],i=""):1===arguments.length&&angular.isObject(arguments[0])&&(h=arguments[0],t=h.type,i=h.title,a=h.icon,r=h.text,o=h.timeout),("error"===t||"danger"===t)&&(t="danger"),c=(new Date).getTime()+Math.floor(100*Math.random()+1),d=angular.merge(h,{id:h.id||c,type:t,title:i,icon:a,text:r,timeout:0,fixed:!1,close:s,hide:s,destroy:s,update:l,postpone:u}),d.include=h.bodyTemplateUrl||h.include,p=n.getIndex(d.id),p>-1?n.queue[p]=d:n.queue.push(d),n.fireListeners(),o!==!1&&0!==o?(d.timeout=parseInt(o,10),d.showTime=(new Date).getTime(),d.timeoutPromise=e(function(){n.remove(d.id)},d.timeout||n.timeout,!1)):d.fixed=!0,d},n.error=n.danger=n.danger=function(e,i,r){t(e,i,r,arguments),this.show("error",e,i,"fa fa-exclamation-circle fa-2x",void 0!==r?r:2*n.timeout)},n.success=function(e,n,i){t(e,n,i,arguments),this.show("success",e,n,"fa fa-check-circle fa-2x",i)},n.warning=function(e,n,i){t(e,n,i,arguments),this.show("warning",e,n,"fa fa-warning fa-2x",i)},n.info=function(e,n,i){t(e,n,i,arguments),this.show("info",e,n,"fa fa-info-circle fa-2x",i)},n.getIndex=function(e){for(var t=0;t<n.queue.length;t++)if(n.queue[t].id===e)return t},n.get=function(e){return n.queue[n.getIndex(e)]},n.remove=n.hide=function(e){var t=n.getIndex(e);-1!==t&&(n.queue.splice(t,1),n.fireListeners())},n}]).controller("NeNotificationsCtrl",["$scope","neNotifications",function(e,t){t.changeListeners.push(function(t){e.notifications=t,e.$digest()})}]).directive("neNotificationsContainer",[function(){return{templateUrl:"neNotifications/container.html"}}]).run(["$templateCache",function(e){e.put("neNotifications/container.html",'<div class="notification-container" ng-controller="NeNotificationsCtrl">    <div ng-show="true" class="ng-hide">        <div ng-repeat="n in notifications" class="alert alert-{{n.type}}" ng-click="n.fixed=true;n.postpone()" ng-mouseenter="n.postpone()" ng-mouseleave="n.postpone(1000)">            <i class="alert-pin fa fa-thumb-tack" ng-if="n.fixed"></i>            <table style="width:100%;word-wrap:break-word" class="table-fixed">                <tr>                    <td style="width:15%">                        <i class="{{n.icon}}"></i>                    </td>                    <td style="padding:0px 5px">                        <div ng-if="!n.include">                            <strong ng-if="n.title"><span ne-bind-html="{{n.title|translate}}"></span><br></strong>                            <span ne-bind-html="{{n.text|translate}}"></span>                        </div>                        <div ng-if="n.include" ng-include="n.include"></div>                    </td>                    <td style="width:20px">                        <a href="" ng-click="n.close()"><i class="fa fa-fw fa-times"></i></a>                    </td>                </tr>            </table>        </div>        <div class="alert alert-default" ng-show="loading" ng-controller="NeLoadingCtrl">            <table style="width:100%">                <tr>                    <td style="width:15%">                        <i class="fa fa-fw fa-spinner fa-spin fa-2x"></i>                    </td>                    <td style="padding:0px 5px">                        <strong>{{::\'Loading...\'|translate}}</strong>                    </td>                </tr>            </table>        </div>    </div></div>')}]),angular.module("neObject",[]).factory("neObject",[function(){function e(e){var t,n,i;if(!e||"[object Object]"!==Object.prototype.toString.call(e)||e.nodeType||e.setInterval)return!1;if(t=hasOwnProperty.call(e,"constructor"),n=hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"),e.constructor&&!t&&!n)return!1;for(i in e);return void 0===i||c.call(e,i)}function t(){var t,i,r,a,o,s,l=this.extendReservedInstances,u=this,c=arguments[0]||{},d=1,p=arguments.length,h=!1;for("boolean"==typeof c&&(h=c,c=arguments[1]||{},d=2),"object"!=typeof c&&"function"!=typeof c&&(c={});p>d;d++){if(t=arguments[d],n(t,l))return c=t;if(null!==t)for(i in t)r=c[i],a=t[i],n(a,l)?c[i]=a:c!==a&&(h&&a&&(e(a)||(o=Array.isArray(a)))?(o?(o=!1,s=r&&Array.isArray(r)?r:[]):s=r&&e(r)?r:{},c[i]=u.extend(h,s,a)):void 0!==a&&(c[i]=a))}return c}function n(e,t){for(var n=0;n<t.length;n++)if(e instanceof t[n])return!0;return!1}function i(e,t,n){var r,a;if(angular.isObject(e)){n=n||"";for(a in e)angular.isObject(e[a])&&i(e[a],t,""===n?a:n+"."+a),r=t(""===n?a:n+"."+a,a,e[a]),r?e[a]=r:delete e[a]}}function r(e,t,n,i){var r,a=t.split("."),o=e;if("this"===t)"push"===i?e.push(n):e=n.toString();else for(r=0;r<a.length;r++)r>=a.length-1?"push"===i?o[a[r]].push(n):o[a[r]]=n:o[a[r]]=void 0===o[a[r]]||null===o[a[r]]?{}:o[a[r]],o=o[a[r]];return e}function a(e,t){var n,i,r;if(!e&&e!==!1&&0!==e||"function"==typeof e)return void 0;if("this"===t)return e;for(n=t.split("."),i=e,r=0;r<n.length;r++){if(!i[n[r]]&&i[n[r]]!==!1&&0!==i[n[r]])return void 0;i=i[n[r]]}return"function"==typeof i?void 0:i}function o(e,t){var n,i;if(e=e||{},t=t||"",n=t.split("."),0!==n.length){if(1===n.length)return void delete e[n[0]];for(i=0;i<n.length-1;i++)if(e=e[n[i]],!e)return;delete e[n[n.length-1]]}}function s(e,t,n){return 2===arguments.length&&(n=arguments[1],t=1),"asc"===t&&(t=1),"desc"===t&&(t=-1),n.sort(function(n,i){return n[e]>i[e]?t:n[e]<i[e]?-t:0}),n}function l(e,t,n){var i,r=[];for(i in e)e.hasOwnProperty(i)&&(e.$key=i,e.$sortIndex=a(e[i],t),r.push(e[i]));return s("$sortIndex",n||"asc",r)}function u(e,t){var n,i,r;if(!angular.isArray(e)||!t)return{};for(n={},r=0;r<e.length;r++)i=a(e[r],t),n[i]=e[r];return n}var c=Object.prototype.hasOwnProperty;return{extendReservedInstances:[File,FileList],extend:t,setObjValue:r,deepSet:r,getObjValue:a,deepGet:a,deepReplace:i,deepRemove:o,objectToArray:l,arrayToObject:u}}]),angular.module("neQuery",["neLocal","neObject"]).config(["neLocalProvider",function(e){e.set("default",{$equal:"=",$lt:"&lt;",$lte:"&lt;=",$gt:"&gt;",$gte:"&gt;=",$regex_exact:"exact match",$regex_contains:"contains",$regex_begins:"begins with",$regex_ends:"ends with",$in:"is in",$ne:"not equal",$regex_ncontains:"not contains",$regex_nbegins:"not begins with",$regex_nends:"not ends with",$nin:"is not in",$regex:"custom regex",$size:"items count",$exists:"exists",$and:"and",$or:"or",OR:"OR",AND:"AND",choose:"(choose)",qtype_short_number:"0-9",qtype_short_date:"Date",qtype_short_boolean:"Y/N",qtype_short_string:"A-Z",qtype_short_array:"[A]",qtype_short_object:"{O}",qtype_number:"Number",qtype_date:"Date",qtype_boolean:"Boolean",qtype_string:"Text",qtype_array:"Array",qtype_object:"Object",qvalue_true:"True",qvalue_false:"False",Search:"Search"})}]).run(["$templateCache",function(e){e.put("neQuery/query.html",'<div class="visible-inline-block"><div ng-repeat-start="query in query track by $index" class="visible-inline-block" style="position:relative;margin:2px" ng-style="{\'margin-top\':$first ? \'0px\' : \'2px\'}">    <small ng-if="!$first && query.logical===\'OR\' && !query.length">{{query.logical | translate}}<br></small>    <div ng-if="!query.length" class="visible-inline-block">        <div class="dropdown visible-inline-block" uib-dropdown uib-keyboard-nav>            <input type="text" class="input-sm" uib-dropdown-toggle ng-change="query.setFieldByName(query.fieldName)" ng-model="query.fieldName" />            <ul ng-if="query.fields.filterByName(query.fieldName, query.field.name).length" class="dropdown-menu">                <li ng-repeat="field in query.fields.filterByName(query.fieldName, query.field.name)" ng-class="{\'active\':(field.name===query.fieldName)}">                    <a href="" ng-click="query.setField(field)">			    {{field.name}}			</a>                </li>            </ul>        </div>        <div class="dropdown visible-inline-block" uib-dropdown uib-keyboard-nav>            <button ng-disabled="query.field.disableOperator" class="btn btn-default btn-sm" uib-dropdown-toggle style="width:120px;">                <span>{{query.operator | translate}}&nbsp;</span>            </button>            <ul class="dropdown-menu">                <li ng-if="!query.field.disableType" class="text-center">                    <div class="btn-group btngroup-xs">                        <button class="btn btn-default btn-xs" ng-class="{\'btn-success\':(query.type.name===type)}" style="padding:2px;" uib-tooltip="{{\'qtype_\'+type | translate}}" ng-repeat="type in query.types" ng-click="query.setType(type);$event.stopPropagation();">                        {{\'qtype_short_\'+type | translate}}                        </button>                    </div>                </li>                <li ng-if="!query.field.disableType" class="divider"></li>                <li ng-repeat="operator in query.type.operators" ng-class="{\'active\':(query.operator===operator)}">                    <a href="" ng-click="query.setOperator(operator)">			    <span ng-bind-html="operator|translate|html"></span>			</a>                </li>            </ul>        </div>        <div class="visible-inline-block" ne-query-value="query"></div>        <div class="btn-group btn-group-xs">            <button class="btn btn-default" ng-click="query.next(\'AND\')">{{::\'AND\' | translate}}</button>            <button class="btn btn-default" ng-click="query.next(\'OR\')">{{::\'OR\' | translate}}</button>            <button class="btn btn-default" ng-click="query.levelDown()"><i class="fa fa-fw fa-level-down"></i></button>            <button class="btn btn-default" ng-click="close();query.remove()"><i class="fa fa-fw fa-minus"></i></button>        </div>    </div>    <div ng-if="query.length" class="visible-inline-block" style="position:relative;">        <small>{{query.logical | translate}}<br></small>        <div class="btn-group btn-group-xs" style="position:absolute;right:0px;top:1px">            <button class="btn btn-default" style="border:1px dashed #999;border-right:none;color:#999;border-bottom: 1px solid transparent;" ng-click="query.next(\'AND\')">{{::\'AND\' | translate}}</button>            <button class="btn btn-default" style="border:none;border-top:1px dashed #999;color:#999;border-bottom: 1px solid transparent;" ng-click="query.next(\'OR\')">{{::\'OR\' | translate}}</button>            <button class="btn btn-default" style="border:1px dashed #999;border-left:none;color:#999;border-bottom: 1px solid transparent;" ng-click="close();query.remove()"><i class="fa fa-minus"></i></button>        </div>        <div class="query-subquery visible-inline-block" ng-include="\'neQuery/query.html\'" style="border:1px dashed #999;padding:8px;margin:2px 0px;"></div>    </div></div><br ng-repeat-end></div>'),
e.put("neQuery/date.html",'<input type="text"        class="input-sm"        uib-datepicker-popup        is-open="query.value_opened"        ng-click="query.value_opened=!query.value_opened"        ng-model="query.value"/>'),e.put("neQuery/number.html",'<input type="number" class="input-sm" ng-model="query.value" style="width:142px;"/>'),e.put("neQuery/list.html",'<select class="input-sm"         ng-model="query.value"         ng-options="(value | translate) for value in query.field.values"         style="width:142px;"></select>'),e.put("neQuery/boolean.html",'<select class="input-sm"         ng-model="query.value"         ng-options="(\'qvalue_\'+value | translate) for value in [true,false]"         style="width:142px;"></select>'),e.put("neQuery/string.html",'<input type="text" class="input-sm" ng-model="query.value"/>'),e.put("neQuery/disabled.html",'<input type="text" disabled="disabled" class="input-sm" ng-model="query.value"/>'),e.put("neQuery/sort.html",'<div class="visible-inline-block"><div ng-repeat-start="sort in query.sortBy track by $index" style="display:inline-block;position:relative;margin:2px" ng-style="{\'margin-top\':$first ? \'0px\' : \'2px\'}">    <div class="visible-inline-block">        <div class="dropdown visible-inline-block" uib-dropdown uib-keyboard-nav>            <input type="text" class="input-sm dropdown-toggle" uib-dropdown-toggle ng-change="query.setSortByName(sort.fieldName, $index)" ng-model="sort.fieldName" />            <ul ng-if="query.fields.filterByName(sort.fieldName, sort.name).length" class="dropdown-menu">                <li ng-repeat="field in query.fields.filterByName(sort.fieldName, sort.name)" ng-class="{\'active\':(field.name===sort.fieldName)}">                    <a href="" ng-click="query.setSortField(field,$parent.$index)">        			    {{field.name}}        			</a>                </li>            </ul>        </div>        <div class="btn-group btn-group-xs">            <button class="btn btn-default" ng-click="query.toggleSortDirection($index)">                <i class="fa fa-fw" ng-class="{\'fa-sort-amount-asc\':sort.direction===1,\'fa-sort-amount-desc\':sort.direction===-1}"></i>            </button>            <button class="btn btn-default" ng-click="query.addSort($index)"><i class="fa fa-fw fa-plus"></i></button>            <button class="btn btn-default" ng-click="query.removeSort($index)"><i class="fa fa-fw fa-minus"></i></button>        </div>    </div></div><br ng-repeat-end><button ng-if="!query.sortBy.length" class="btn btn-default btn-sm" ng-click="query.addSort()"><i class="fa fa-fw fa-signal"></i></button></div>')}]).directive("neQueryValue",[function(){return{restrict:"A",template:'<div ng-include="query.field.template||query.type.templates[query.operator]||query.type.template||query.templates[query.type.name]||query.templates.disabled"></div>',link:function(){}}}]).directive("neQuerySearch",[function(){return{restrict:"A",template:'<div class="pull-left" ne-query="query"></div><div class="pull-left" ne-query-sort="query"></div><button class="btn btn-primary btn-sm" ng-click="searchClick()" style="margin-left:2px">    <i class="fa fa-fw fa-search"></i>    <span class="hidden-sm">{{::\'Search\' | translate}}</span></button>',scope:{query:"=neQuerySearch",searchClick:"&neQuerySearchClick"},link:function(){}}}]).directive("neQuery",[function(){return{restrict:"A",templateUrl:"neQuery/query.html",scope:{query:"=neQuery"},link:function(){}}}]).directive("neQuerySort",[function(){return{restrict:"A",templateUrl:"neQuery/sort.html",scope:{query:"=neQuerySort"},link:function(){}}}]).factory("NeQuery",["neLocal","neObject",function(e,t){function n(e){return(e||"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function i(e){return(e||"").replace(/\\(?!\\)/g,"")}function r(e){var t,n,i;if(!e)return{};for(t=this,n={},n[O]={},i=0;i<e.length;i++)n[O][e[i].key]=e[i].direction;return n}function a(e){var t,n=this,i=[];if(n.sortBy=[],"[object Object]"===Object.prototype.toString.call(e))for(t in e)n.addSort(),n.setSortByName(t,n.sort.length-1).direction=e[t];return i}function o(e){var n,i,a,s,l,u,c,d={};if(d=t.extend(!0,d,e.options),e.length){for(i=[],a=0,s=0;s<e.length;s++)s>0&&"OR"===e[s].logical&&a++,i[a]=i[a]||[],i[a].push(e[s]);if(0===a)for(s=0;s<i[a].length;s++)if(l=o(i[a][s]),i[a][s].field.merge)for(u in l)void 0!==d[u]?d=i[a][s].field.merge(u,l,d):d[u]=l[u];else d=t.extend(!0,d,l);else d=t.extend(!0,d,A.OR.build(i))}else e.operator&&e.field&&e.field.key&&(n=angular.copy(e.value),e.type.onBuild&&(n=e.type.onBuild(n)),n=A[e.operator].build("function"==typeof e.field.onBuild?e.field.onBuild(n):n),void 0!==n&&null!==n&&(e.field.build?(c=e.field.build(e.field.key,n,e),d[c.key||e.field.key]=c.key?c.value:c):d[e.field.key]=n));return(e.sortBy||{}).length&&(d=t.extend(!0,d,r.call(e,e.sortBy))),d}function s(e,t){function n(e,t,n){r=e.append(n),r.setFieldByName(t.fieldName,!0),r.type=L[t.typeName],r.operator=t.operator,r.value=t.value}var i,r,o,l,u,c,d,p,h,f=this,g=[];for(o in e)-1===["AND","OR","VALUE"].indexOf(o)&&(o===O?a.call(f,e[o]):A[o]||o[0]!==P&&-1===T.indexOf(o)?g.push(o):f.options[o]=e[o]);for(l=0;l<g.length;l++){for(o=g[l],u=null,c=0;c<f.fields.length;c++)if((f.fields[c].field===o||f.fields[c].match&&o.match(f.fields[c].match))&&f.fields[c].parse){u=f.fields[c].parse;break}if(d={},u&&(d=u(o,e[o],t),d&&d.key?(o=d.key,e[o]=d.value):d&&(e[o]=d),Array.isArray(e[o])))for(p in e[o])s.call(f,e[o][p].value,e[o][p].logical||t);else if(i=(A[o]||A.VALUE).parse(o,e[o])){if(Array.isArray(i))for(h=0;h<i.length;h++)n(f,i[h],0===l&&0===h?t:"AND");else if(i.queries)for(r=null,h=0;h<i.queries.length;h++)1===g.length?f.parse(i.queries[h],i.logical):r?r.parse(i.queries[h],i.logical):(r=f.append(t),r.parse(i.queries[h],i.logical));else 0===l?n(f,i,t):n(f,i,"AND");d.key&&delete e[d.key]}else d.key&&delete e[d.key]}return f}function l(e){var t,n,i;return"boolean"==typeof e?t="boolean":"number"==typeof e?t="number":e instanceof Date?t="date":"string"==typeof e&&(n=e.match(q),n&&(i=Date.parse(n[0])),isNaN(i)?t="string":(e=new Date(i),t="date")),{type:t,value:e}}function u(e){var t=[];return t.options={},t.sortBy=[],t.build=function(){return o.call(this,this)},t.parse=function(e,t){return s.call(this,e,t)},t.fill=function(e){return this.splice(0,this.length),this.parse(e),this.parent||0!==this.length||this.append("AND"),t},t.clear=g,t.newQuery=u,t.templates=M,t.fields=this.fields,t.types=this.types,t.logical=e||"AND",t.append=c,t.next=p,t.levelDown=d,t.remove=h,t.reset=f,t.setFieldByName=m,t.setField=v,t.setOperator=b,t.setType=y,t.addSort=$,t.removeSort=w,t.toggleSortDirection=x,t.setSortByName=k,t.setSortField=C,t.reset(),t}function c(e){var t=this.newQuery(e);return t.parent=this,this.push(t),t}function d(){var e,t,n=this;if(n.parent&&!(n.parent.length<=1))return e=n.parent.indexOf(n),t=n.next(n.logical),n.parent.splice(e,1),n.logical="AND",n.parent=t,t.push(n),t}function p(e){var t,n,i=this;if(i.parent)return t=i.parent.indexOf(i),n=this.newQuery(e),n.parent=i.parent,i.parent.splice(t+1,0,n),n}function h(){var e,t=this;if(t.parent){if(!t.parent.parent&&1===t.parent.length)return t.reset();if(1===t.parent.length)return t.parent.remove();e=t.parent.indexOf(t),t.parent.splice(e,1),t=null}}function f(){var e=this;if(e.fields.length){if(e.field=e.fields[0],e.type=L[e.field.type],!e.type)throw new Error('Field type "'+e.field.type+'" not recognized, please choose one from "'+Object.keys(L).join(", ")+'"');e.fieldName=e.field.name,e.operator=e.type.operators[e.field.operatorIndex||0]}else e.field=e.field||{},e.type=e.type||e.types[0],e.operator=e.type.operators[0];e.value=null}function g(){return this.splice(0,this.length),this}function m(e,t){var n,i;if(e)for(n=e.toLowerCase(),i=0;i<this.fields.length;i++){if(this.fields[i].key===e||this.fields[i].nameLower===n)return this.setField(this.fields[i]);if(this.fields[i].match&&(e.match(this.fields[i].match)||n.match(this.fields[i].match)))return!t&&this.field&&this.field.field===this.fields[i].field?void 0:this.setField(this.fields[i],e)}this.fieldName=e,this.field={key:e}}function v(e,t){if(this.type.name!==e.type){if(this.type=L[e.type],!this.type)throw new Error('Field type "'+e.type+'" not recognized, please choose one from "'+Object.keys(L).join(", ")+'"');this.value=null}this.field=angular.copy(e||{}),this.fieldName=t||this.field.name,this.operator=this.type.operators[this.field.operatorIndex||0]}function b(e){this.type.templates&&this.type.templates[this.operator]!==this.type.templates[e]&&(this.value=null),this.operator=e}function y(e){this.type=L[e],this.operator=this.type.operators[0],this.value=null}function $(e){var t={};this.fields.length&&(t.fieldName=this.fields[0].name,t.name=this.fields[0].name,t.key=this.fields[0].key,t.direction=1),isNaN(e)?this.sortBy.push(t):this.sortBy.splice(e+1,0,t)}function w(e){this.sortBy.splice(isNaN(e)?this.sortBy.length-1:e,1)}function x(e){e=e||0,this.sortBy[e].direction=1===this.sortBy[e].direction?-1:1}function k(e,t){var n,i;if(t=t||0,e)for(n=e.toLowerCase(),i=0;i<this.fields.length;i++)if(this.fields[i].key===e||this.fields[i].nameLower===n)return this.sortBy[t].fieldName=this.fields[i].name,this.sortBy[t].name=this.fields[i].name,this.sortBy[t].key=this.fields[i].key,this.sortBy[t];return this.sortBy[t].fieldName=e,this.sortBy[t].key=e,this.sortBy[t]}function C(e,t){t=t||0,this.sortBy[t].fieldName=e.name,this.sortBy[t].name=e.name,this.sortBy[t].key=e.key}function D(e,t){var n,i=[],r=this,a=(e||"").toLowerCase();if(!e||e===t)return r;for(n=0;n<r.length;n++)r[n].nameLower&&r[n].nameLower.match(new RegExp(".*"+a+".*"))&&i.push(r[n]);return i}function S(t,n){var i,r,a,o,s,l,c,d;for(1===arguments.length&&"string"!=typeof arguments[0]&&(n=arguments[0],t=null),n=n||[],i=0;i<n.length;i++){if(n[i].key=n[i].key||n[i].field||n[i].property,n[i].name=e.translate(n[i].name||n[i].key),n[i].nameLower=(n[i].name||"").toLowerCase(),n[i].behaviour&&(r=null,a={},o=null,"string"==typeof n[i].behaviour?r=n[i].behaviour:(r=Object.keys(n[i].behaviour)[0],a=n[i].behaviour[r]),s=I[r])){l=s.call(n[i],a);for(c in l)n[i][c]=l[c]}n[i].type&&(n[i].disableType=!0),n[i].type=n[i].type||n[i].defaultType||E,n[i].operatorIndex>=0&&(n[i].disableOperator=!0),n[i].operatorIndex=n[i].operatorIndex||n[i].defaultOperatorIndex,n[i].values&&!n[i].template&&(n[i].template=M.list)}return n.filterByName=D,d=u.call({fields:n,types:Object.keys(L)},"AND"),d.append("AND"),d.name=t,d}var M={query:"neQuery/query.html",sort:"neQuery/sort.html",disabled:"neQuery/disabled.html",number:"neQuery/number.html",string:"neQuery/string.html","boolean":"neQuery/boolean.html",date:"neQuery/date.html",list:"neQuery/list.html"},O="$sort",T=["$limit","$page","$skip","$sort"],P="$",E="string",L={string:{name:"string",operators:["$regex_exact","$regex_contains","$regex_begins","$regex_ends","$in","$ne","$regex_ncontains","$regex_nbegins","$regex_nends","$nin","$regex"],template:M.string},number:{name:"number",operators:["$equal","$lt","$lte","$gt","$gte"],template:M.number},"boolean":{name:"boolean",operators:["$equal"],template:M["boolean"],onBuild:function(e){return-1!==[!0,"true","True",1,"yes","Yes"].indexOf(e)?!0:!1}},date:{name:"date",operators:["$equal","$lt","$lte","$gt","$gte"],template:M.date},object:{name:"object",operators:["$exists"],template:M["boolean"]},array:{name:"array",operators:["$size"],template:M.string,templates:{$size:M.number}}},q=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,})(Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/,A={AND:{build:function(e){var t,n=[];for(t=0;t<(e.length||0);t++)n.push(o(e[t]));return{$and:n}}},OR:{build:function(e){var t,n=[];for(t=0;t<(e.length||0);t++)n.push(o(e[t]));return{$or:n}}},VALUE:{parse:function(e,t){var n,i,r=[],a=l(t),o=a.type;if(t=a.value,"[object Object]"===Object.prototype.toString.call(t)){for(i in t)n=(A[i]||A.VALUE).parse(e,t[i]),n&&r.push(n);return r}return o?{fieldName:e,typeName:o,operator:"string"===o?"$regex_exact":"$equal",value:t}:void 0}},$and:{parse:function(e,t){return Array.isArray(t)?{logical:"AND",queries:t}:null}},$or:{parse:function(e,t){return Array.isArray(t)?{logical:"OR",queries:t}:null}},$equal:{build:function(e){return e}},$exists:{build:function(e){return{$exists:e}},parse:function(e,t){return"boolean"==typeof t?{fieldName:e,typeName:"object",operator:"$exists",value:t}:void 0}},$size:{build:function(e){return{$size:e}},parse:function(e,t){return"number"==typeof t?{fieldName:e,typeName:"array",operator:"$size",value:t}:void 0}},$lt:{build:function(e){return{$lt:e}},parse:function(e,t){var n=l(t),i=n.type;return t=n.value,"number"===i||"date"===i?{fieldName:e,typeName:i,operator:"$lt",value:t}:void 0}},$lte:{build:function(e){return{$lte:e}},parse:function(e,t){var n=l(t),i=n.type;return t=n.value,"number"===i||"date"===i?{fieldName:e,typeName:i,operator:"$lte",value:t}:void 0}},$gt:{build:function(e){return{$gt:e}},parse:function(e,t){var n=l(t),i=n.type;return t=n.value,"number"===i||"date"===i?{fieldName:e,typeName:i,operator:"$gt",value:t}:void 0}},$gte:{build:function(e){return{$gte:e}},parse:function(e,t){var n=l(t),i=n.type;return t=n.value,"number"===i||"date"===i?{fieldName:e,typeName:i,operator:"$gte",value:t}:void 0}},$regex:{build:function(e){return{$regex:e}},parse:function(e,t){var n,i,r,a;for(a=0;a<L.string.operators.length;a++)if(i=L.string.operators[a],A[i]&&A[i].check&&void 0!==(r=A[i].check(t))){n=i,t=r;break}return{fieldName:e,typeName:"string",operator:n||"$regex",value:t}}},$regex_exact:{build:function(e){return e}},$regex_contains:{build:function(e){return e=n(e),{$regex:".*"+e+".*"}},check:function(e){return e=(e.match(/^\.\*(.*)\.\*$/)||[])[1],void 0===e?void 0:i(e)}},$regex_ncontains:{build:function(e){return e=e=n(e),{$regex:"^((?!"+e+").)*$"}},check:function(e){return e=(e.match(/^\^\(\(\?\!(.*)\)\.\)\*\$$/)||[])[1],void 0===e?void 0:i(e)}},$regex_begins:{build:function(e){return e=n(e),{$regex:"^"+e+".*"}},check:function(e){return e=(e.match(/^\^(.*)\.\*$/)||[])[1],void 0===e?void 0:i(e)}},$regex_nbegins:{build:function(e){return e=n(e),{$regex:"^(?!"+e+").*$"}},check:function(e){return e=(e.match(/^\^\(\?\!(.*)\)\.\*\$$/)||[])[1],void 0===e?void 0:i(e)}},$regex_ends:{build:function(e){return e=n(e),{$regex:".*"+e+"$"}},check:function(e){return e=(e.match(/^\.\*(.*)\$$/)||[])[1],void 0===e?void 0:i(e)}},$regex_nends:{build:function(e){return e=n(e),{$regex:"^(?!.*"+e+"$)"}},check:function(e){return e=(e.match(/^\^\(\?\!\.\*(.*)\$\)$/)||[])[1],void 0===e?void 0:i(e)}},$ne:{build:function(e){return{$ne:e}},parse:function(e,t){var n=l(t),i=n.type;return t=n.value,i?{fieldName:e,typeName:i,operator:"$ne",value:t}:void 0}},$in:{build:function(e){return"string"==typeof e&&(e=e.replace(/,\s+/g,",").replace(/\s+,/g,",").replace(/^,/,"").replace(/,$/,"").split(",")),{$in:e}},parse:function(e,t){return Array.isArray(t)?{fieldName:e,typeName:"string",operator:"$in",value:t.join(", ")}:void 0}},$nin:{build:function(e){return"string"==typeof e&&(e=e.replace(/,\s+/g,",").replace(/\s+,/g,",").replace(/^,/,"").replace(/,$/,"").split(",")),{$nin:e}},parse:function(e,t){return Array.isArray(t)?{fieldName:e,typeName:"string",operator:"$nin",value:t.join(", ")}:void 0}}},I={keyValueArray:function(e){var t=this,n=t.field,i=e.prefix||e.keyPrefix||"",r=e.key||e.idKey,a=e.value||e.valueKey;if(!r||!a)throw new Error('neQuery: Cannot set field behaviour, "idKey" or "valueKey" not defined');return{match:new RegExp(n+".*"),build:function(e,t,o){var s={};return s[r]=o.fieldName.replace(n+".",""),s[a]=t,{key:i+n,value:{$elemMatch:s}}},merge:function(e,t,n){return t[e].$elemMatch&&(n[e].$all?n[e].$all.push(t[e]):n[e]={$all:[n[e],t[e]]}),n},parse:function(e,t,o){var s,l,u;if(t.$elemMatch)return s=e+"."+t.$elemMatch[r],{key:s.replace(i,""),value:t.$elemMatch[a]};if(Array.isArray(t.$all)){for(l=[],u=0;u<t.$all.length;u++)t.$all[u].$elemMatch&&(l[u]={value:{},logical:u>0?"AND":o},l[u].value[n+"."+t.$all[u].$elemMatch[r]]=t.$all[u].$elemMatch[a]);return l}}}}};return S.templates=M,S.fieldBehaviours=I,S}]),angular.module("neRest",["neObject","neNotifications","neLoading"]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).factory("NeRestResource",["$http","$timeout","neObject","neNotifications","neLoading","NeResourceTransformators.dateStringsToDates","NeResourceTransformators.removePrefixedProps",function(e,t,n,i,r,a,o){function s(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function l(e,t,n){var i=new RegExp(s(t),"g");return e.replace(i,n)}function u(e,t){if(t)return e.replace(/\/$/,"");var n="";return e.match(/^http:/)&&(n="http:/",e=e.substring(6)),e.match(/^https:/)&&(n="https:/",e=e.substring(7)),e.match(/^\/\//)&&(n="/",e=e.substring(1)),e=("/"+e+"/").replace(/\/\/+/g,"/"),n+e.substring(0,e.length-1)}function c(e){return!!e.match(/^http:/)||!!e.match(/^https:/)||!!e.match(/^\/\//)}function d(e){var t,n=(e||"").match(/\{([^\{\}]+)/g)||[];for(t=0;t<n.length;t++)n[t]=n[t].substring(1);return n}function p(e){return void 0===e||null===e?"":JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")}function h(e,t,i,r){var a,o,s,d,h,f=this;for(t=u(t||"",!0),a=c(t)?t:e+("/"===t[0]||""===e?"":"/")+t,o=f.options.commands[r].urlParams,h=0;h<o.length;h++)d=n.deepGet(i,o[h]),s="_command"===o[h]?r:void 0===d?"":d,a=l(a,"{"+o[h]+"}",p(s));return u(a,!0)}function f(e,t){var n,i,r=this,a="",o=r.options.commands[t],s=r.options,l=o.queryKey||s.queryKey,u=o.urlParams;if(l)return Object.keys(e).length?"?"+l+"="+JSON.stringify(e):"";for(n in e)if(e.hasOwnProperty(n)&&-1===u.indexOf(n))if(Array.isArray(e[n]))for(i=0;i<e[n].length;i++)a+="&"+n+"="+p(e[n][i]);else void 0!==e[n]&&(a+="&"+n+"="+p(e[n]));return a?"?"+a.substring(1):""}function g(e,t,i,r){var a,o,s=e.commands[t],l=s.dataKey||e.dataKey,u=s.resourceKey||e.resourceKey,c=s.idKey||e.idKey;return r?r=n.deepGet(r,u):i&&(a=n.deepGet(i,l),r=n.deepGet(a,u)),r&&(o=n.deepGet(r,c),void 0!==o&&(r.id=o)),r}function m(e,t,i){var r,a,o=e.commands[t],s=(o.isList,o.dataKey||e.dataKey),l=o.resourceListKey||e.resourceListKey,u=n.deepGet(i,s);if(l&&(u=n.deepGet(u,l)),r=[],Array.isArray(u))for(a=0;a<u.length;a++)r.push(g(e,t,null,u[a]));return r}function v(e,t,i,r){var a=e.commands[t],o=a.queryPageKey||e.queryPageKey,s={count:n.deepGet(i,a.paginationCountKey||e.paginationCountKey)||0,page:n.deepGet(i,a.paginationPageKey||e.paginationPageKey)||n.deepGet(r,o)||0,pages:n.deepGet(i,a.paginationPagesCountKey||e.paginationPagesCountKey)||0,next:n.deepGet(i,a.paginationHasNextKey||e.paginationHasNextKey),prev:n.deepGet(i,a.paginationHasPrevKey||e.paginationHasPrevKey)};return void 0===s.page||void 0===s.pages||void 0!==s.next&&void 0!==s.prev||(s.next=s.page<s.pages,s.prev=s.page>1),s}function b(e,t,i,r){var a,o,s=e.commands[t],l=s.additionalDataKeys||e.additionalDataKeys;for(o in l)a=n.deepGet(i,o),void 0!==a&&n.deepSet(r,l[o],a);return r}function y(e){var t,n=[];for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=0;t<e.length;t++)if("function"==typeof e[t]&&e[t].apply(this,n)===!0)return}function $(e,t,n,i){return function(r){var a,o=(r.config,t.commands[n]),s=C(r.data,o.transformResponse),l=r.status,u=(r.headers,o.isList);u?(a=m(t,n,s)||[],a.pagination=v(t,n,s,e)):a=g(t,n,s),a=b(t,n,s,a),y([o.onData,t.onData],a,(a||{}).pagination,s,l,u,n),y(i,a,(a||{}).pagination,s,l)}}function w(e,t,i,r){return function(e){var a=(e.config,t.commands[i]),o=C(e.data,a.transformResponse),s=e.status,l=e.headers,u=r.concat([(a.responseErrors||{})[s]||(a.responseErrors||{})["default"],t.responseErrors[s]||t.responseErrors["default"]]),c=a.errorKey||t.errorKey,d=n.deepGet(o,c);y(u,d,s,l)}}function x(e,n,i,a,o,s){function l(t){var i,s,l,u;if(t=t||{},i=t.getResponseHeader("content-type"),s=t.responseText,l=t.status?parseInt(t.status):0,i&&"application/json"===i.substring(0,16))try{s=JSON.parse(t.responseText)}catch(c){l=0}u={data:s,status:l,headers:t.headers,httpOpts:{}},h("removeEventListener"),r.reqEnded(),l>=200&&299>=l?$(n,g,e,a)(u):w(n,g,e,o)(u)}function u(e){l(e.target,"load")}function c(e){l(e.target,"error")}function d(e){l(e.target,"abort")}function p(e){s&&(e.lengthComputable?y(s,Math.ceil(100*e.loaded/e.total)):y(s,50))}function h(e){S[e]("load",u,!1),S[e]("error",c,!1),S[e]("abort",d,!1),S.upload[e]("progress",p,!1)}var f,g=this.options,m=i.url,v=(i.headers,i.data),b=new FormData;for(f in v)b.append(f,v[f]);t(function(){h("addEventListener"),r.reqStarted(),S.open("POST",m,!0),S.send(b)})}function k(){var e,t,n,i,r=[{},k.defaults];for(e=0;e<arguments.length;e++)r.push(arguments[e]);t=angular.merge.apply(angular,r),t.baseUrl=u(t.baseUrl,!0),n=this,n.options=t;for(i in t.commands)t.commands[i].transformRequest=angular.merge({},t.transformRequest,t.commands[i].transformRequest||{}),t.commands[i].transformResponse=angular.merge({},t.transformResponse,t.commands[i].transformResponse||{}),n[i]=function(e){return function(){var t,i=[e];for(t=0;t<arguments.length;t++)i.push(arguments[t]);return n.command.apply(n,i)}}(i);return n}function C(e,t){var i,r;t=t||{},i=e,"[object Object]"===Object.prototype.toString.call(e)&&(i=n.extend(!0,{},e)),Array.isArray(e)&&(i=n.extend(!0,[],e));for(r in t)k.dataTransformators[r]&&k.dataTransformators[r](i,t[r]);return i}var D={baseUrl:"/yoururl",urlEndSlash:!1,headers:{"Content-Type":"application/json"},dataKey:"data",resourceListKey:"this",resourceKey:"this",idKey:"id",errorKey:"data",paginationCountKey:"pagination.count",paginationPageKey:"pagination.page",paginationPagesCountKey:"pagination.pages",paginationHasNextKey:"pagination.next",paginationHasPrevKey:"pagination.prev",additionalDataKeys:{},responseErrors:{400:function(e){var t,n=e;if(angular.isObject(e)){n="";for(t in e)n+=t+": "+e[t]+", "}i.error("Validation Failed",n)},403:function(){i.error("Access Denied","Try logout and login again, please")},404:function(){i.error("Document or his version not found","Try refresh page, please")},409:function(e){i.error(e)},"default":function(){i.error("Connection Failed","Try later, please")}},defaultQuery:{},urlBuilder:h,queryStringBuilder:f,queryKey:null,queryPageKey:"$page",queryLimitKey:"$limit",querySortKey:"$sort",transformRequest:{removePrefixedProps:"$"},transformResponse:{dateStringsToDates:!0},commands:{one:{method:"GET",url:"/{id}"},all:{method:"GET",isList:!0},find:{method:"GET",isList:!0},create:{method:"POST",url:"/{id}"},update:{method:"PUT",url:"/{id}"},remove:{method:"DELETE",url:"/{id}"}}},S=function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("This browser does not support XMLHttpRequest.")}();return k.defaults=D,k.define=k.create=function(e){return new k(e)},k.dataTransformators={dateStringsToDates:a,removePrefixedProps:o},k.prototype.command=function(t,i,r,a,o,s){var l,u,c,p,h,f,g,m,v,b,y,k,D,S,M,O,T,P,E,L,q,A,I,U,_=this;if(!_.options.commands[t])throw new Error('This resource has no command "'+t+'" defined');if("function"==typeof arguments[1]?(s=arguments[3],o=arguments[2],a=arguments[1],i={},r=null):"function"==typeof arguments[2]&&(s=arguments[4],o=arguments[3],a=arguments[2],i=arguments[1],r=null),u=_.options,c=u.commands[t],p=("string"==typeof c.baseUrl?c.baseUrl:u.baseUrl)||"",h=(c.method||"GET").toLowerCase(),f="boolean"==typeof c.body?c.body:["options","post","post-multipart","upload","put","delete"].indexOf(h)>-1,g=c.headers||u.headers,m=("string"==typeof c.url?c.url:u.url)||"",v=c.urlBuilder||u.urlBuilder,b=c.urlEndSlash||u.urlEndSlash,y=c.queryStringBuilder||u.queryStringBuilder,k=c.defaultQuery||u.defaultQuery,D=c.transformRequest,S=c.idKey||u.idKey,M=c.queryPageKey||u.queryPageKey,O=c.queryLimitKey||u.queryLimitKey,T=c.querySortKey||u.querySortKey,u.commands[t].urlParams=c.urlParams||d(m),null===r&&f&&angular.isObject(i)?(r=arguments[1],i=null,l={}):(l={},l=!i||"string"!=typeof i&&"number"!=typeof i?i:n.deepSet(l,S,i),l=angular.merge({},k,l||{})),0===l.$page)throw new Error("adad");"$page"!==M&&(l=n.deepSet(l,M,l.$page),delete l.$page),"$limit"!==O&&(l=n.deepSet(l,O,l.$limit),delete l.$limit),"$sort"!==T&&(l=n.deepSet(l,T,l.$sort),delete l.$sort),P=[a,c.onSuccess,u.onSuccess],E=[o,c.onError,u.onError],L=[s,c.onProgress,u.onProgress],q=angular.merge({},r||{},l||{}),A=v.call(_,p,m,q,t),b&&-1===A.indexOf("?")&&(A+="/"),I=y.call(_,l,t),A.indexOf("?")>-1&&0===I.indexOf("?")&&(I="&"+I.substring(1)),U={url:A+I,method:h,data:C(r,D),headers:g},"post-multipart"===h||"upload"===h?x.call(_,t,l,U,P,E,L):e(U).then($(l,u,t,P),w(l,u,t,E))},k}]).factory("NeResourceTransformators.dateStringsToDates",[function(){function e(i,r){var a,o,s,l;if("string"==typeof i&&(o=i.match(r?n:t)))return s=Date.parse(o[0]),isNaN(s)||(i=new Date(s)),i;if("object"!=typeof i)return i;for(l in i)a=i[l],"string"==typeof a&&(o=a.match(r?n:t))?(s=Date.parse(o[0]),isNaN(s)||(i[l]=new Date(s))):"object"==typeof a&&e(a);return i}var t=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,})(Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/,n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;return e}]).factory("NeResourceTransformators.removePrefixedProps",[function(){function e(t,n){var i,r;if("object"!=typeof t)return t;for(i in t)t.hasOwnProperty(i)&&(r=t[i],0===i.indexOf(n)?delete t[i]:"object"==typeof r&&e(r,n))}return e}]),angular.module("neState",["ngCookies"]).factory("NeStateService",["$timeout","$location","$rootScope","$cookies",function(e,t,n,i){function r(e){return window.btoa(e)}function a(e){return window.atob(e)}function o(e){return e=e||{},angular.merge(this,{},c,e),this.history={},this.changeListeners=[],this}function s(e){return function(t){var n,i;if(!this.history[t])throw new Error('StateService: there is no registered state with id "'+t+'"');return n=this.getCurrentState(t),i=this.history[t].currentStateIndex+e,0>i&&(i=0),i>=this.history[t].length&&(i=this.history[t].length?this.history[t].length-1:0),this.history[t].currentStateIndex=i,n===this.getCurrentState(t)?this:this.fireChange(t,n)}}var l={encrypt:!1,prefix:"q",parser:function(e){var n=this.prefix,i=this.encrypt;e=decodeURIComponent(e||t.search()[n]);try{return i&&(e=a(e)),angular.fromJson(e||"{}")||{}}catch(r){}return{}},builder:function(e){function t(t,n){return e[t]?Object.keys(e[t]).length?n:void 0:n}var n=(this.prefix,this.encrypt),i=JSON.stringify(e,t);return n&&(i=r(i)),i},autoUpdate:!1,autoFill:!1,sync:!1,_unbinders:{},init:function(e,t){var i=this;(i.autoFill||i.sync)&&(t&&(i._unbinders[t]={routeUpdate:n.$on("$routeUpdate",function(){i.fill(e,t)}),routeChangeSuccess:n.$on("$routeChangeSuccess",function(){i.fill(e,t)})}),i.fill(e,t))},destroy:function(e,t){return this.unbind(e,t)},unbind:function(e,t){var n,i,r=this,a=t?[t]:Object.keys(r._unbinders);for(n=0;n<a.length;n++)i=a[n],r._unbinders[i]&&(r._unbinders[i].routeUpdate(),r._unbinders[i].routeChangeSuccess())},fill:function(n){var i=this,r=t.search()[i.prefix],a=i.parser(r)||{};e(function(){if(e)n.change(e,a[e]||{},!0);else for(var e in n.history)n.change(e,a[e]||{},!0)})},update:function(e){var n,i=this;(i.autoUpdate||i.sync)&&(n=i.builder(e.getCurrentState()),t.search(i.prefix,n))}},u={prefix:"appState",path:"/",secure:!1,autoUpdate:!1,autoFill:!1,sync:!1,init:function(){},destroy:function(){},unbind:function(){},fill:function(t){var n=this,r=i.getObject(n.prefix)||{};e(function(){if(e)t.change(e,r[e]||{},!0);else for(var e in t.history)t.change(e,r[e]||{},!0)})},update:function(e){var t=this;(t.autoUpdate||t.sync)&&i.putObject(t.prefix,e.getCurrentState(),{domain:t.domain,expires:t.expires,path:t.path,secure:t.secure})}},c={maxHistoryStates:5,store:l};return o.locationStore=l,o.cookiesStore=u,o.prototype.create=o.prototype.register=function(e,t){var n,i;return t=t||{},n=this,n.history[e]?n.history[e]:(i=[],i.maxHistoryStates=t.maxHistoryStates||n.maxHistoryStates,"location"===t.store&&(t.store=l),"cookies"===t.store&&(t.store=u),i.store=angular.merge({},n.store,t.store||{}),i.changeListeners=[],i.currentStateIndex=-1,n.history[e]=i,n.history[e].store.init(n,e),n.history[e])},o.prototype.changeState=o.prototype.change=function(e,t,n){var i,r,a,o;if(!angular.isObject(t))throw new Error('StateService: cannot change state, value have to be object and is "'+t+'"');return i=this,i.history[e]=i.history[e]||i.register(e),r=i.history[e].currentStateIndex,a=i.history[e].length?i.history[e].length-1-r:0,i.history[e].splice(r+1,a),i.history[e]=i.history[e],i.history[e].push(angular.merge({},t)),i.history[e].length>i.history[e].maxHistoryStates?i.history[e].splice(0,1):i.history[e].currentStateIndex++,n||i.history[e].store.update(i,e),o=n,i.fireChange(e,null,o)},o.prototype.updateState=o.prototype.update=function(e,t){var n,i;if(!angular.isObject(t))throw new Error('StateService: cannot change state, value have to be object and is "'+t+'"');return n=this,n.history[e]=n.history[e]||n.register(e),n.history[e].length?(i=n.history[e].currentStateIndex,n.history[e][i]=angular.merge({},t),n):n},o.prototype.fireChange=function(e,t,n){var i,r,a,o;if(!this.history[e])throw new Error('StateService: there is no registered state with id "'+e+'"');for(i=this.history[e].currentStateIndex,r=this.history[e].changeListeners,t=t||this.getPrevState(e)||{},a=this.getCurrentState(e)||{},o=0;o<r.length;o++)r[o](a,t,n,i);for(o=0;o<this.changeListeners.length;o++)this.changeListeners[o](e,a,t,n,i);return this},o.prototype.watch=o.prototype.onChange=function(e,t){var n=this;return 1===arguments.length&&(t=arguments[0],e=null),e?(n.history[e]=n.history[e]||n.register(e),n.history[e].changeListeners.push(t)):n.changeListeners.push(t),n},o.prototype.unWatch=o.prototype.unbindChange=o.prototype.offChange=function(e,t){1===arguments.length&&(t=arguments[0],e=null);var n;if(e){if(!this.history[e])throw new Error('StateService: there is no registered state with id "'+e+'"');n=this.history[e].changeListeners.indexOf(t),n>=0&&this.history[e].changeListeners.splice(n,1)}else n=this.changeListeners.indexOf(t),n>=0&&this.changeListeners.splice(n,1);return this},o.prototype.clear=function(e){return e?(this.history[e].splice(0,this.history[e].length),this.history[e].changeListeners=[],this.history[e].currentStateIndex=-1):(this.history={},this.changeListeners=[]),this},o.prototype.destroy=function(e){if(e)this.history[e].store.unbind(this,e),this.store.unbind(this,e),this.clear(e),delete this.history[e];else{this.history={},this.changeListeners=[],this.store.unbind(this,e);for(var t in this.history)this.history[t].store.unbind(this,t)}return this},o.prototype.getCurrentState=function(e){var t;if(0===arguments.length){t={};for(e in this.history)t[e]=this.history[e][this.history[e].currentStateIndex];return t}if(!this.history[e])throw new Error('StateService: there is no registered state with id "'+e+'"');return this.history[e][this.history[e].currentStateIndex]},o.prototype.getPrevState=function(e){if(!this.history[e])throw new Error('StateService: there is no registered state with id "'+e+'"');var t=this.history[e].currentStateIndex-1;return 0>t&&(t=0),this.history[e][t]},o.prototype.getNextState=function(e){if(!this.history[e])throw new Error('StateService: there is no registered state with id "'+e+'"');var t=this.history[e].currentStateIndex+1;return t>=this.history[e].length&&(t=this.history[e].length?this.history[e].length-1:0),this.history[e][t]},o.prototype.getFutureState=function(e,t){var n={};return 2===arguments.length?(n[e]=t,n=angular.merge({},this.getCurrentState(),n)):n=this.getCurrentState(),n},o.prototype.undo=s(-1),o.prototype.redo=s(1),o.prototype.undoAll=function(){for(var e in stateObj)this.undo(e)},o.prototype.redoAll=function(){for(var e in stateObj)this.redo(e)},o}]),angular.module("neTree",["neObject"]).run(["$templateCache",function(e){e.put("neTree/item.html","<div>{{item}}</div>"),
e.put("neTree/child.html",'<div ng-include="tree.itemTemplate"></div><ul ng-show="item.$expanded">    <li ng-repeat="item in item.$children" ng-include="\'neTree/child.html\'"></li></ul>'),e.put("neTree/tree.html",'<div class="tree">    <ul>        <li ng-repeat="item in tree.items" ng-include="\'neTree/child.html\'"></li>    </ul>    <div class="tree-backdrop" ng-show="tree.disabled"></div></div>')}]).directive("neTreeUpdateBlur",["$timeout",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){function r(e){c=e,c?t.addClass(o):t.removeClass(o)}function a(){r(!1),d=i.$viewValue}var o,s,l,u,c,d;if(i){if(o=n.dirtyClass||"is-dirty","ng-dirty"===o)throw new Error('dirtyClass cannot be equal to "ng-dirty", it is angular reserved class name');if(s=(n.treeUpdateBlur||"").split(","),l=s[0]||"item",u=s[1]||"tree",!e[u])throw new Error('Scope has not grid with name "'+u+'"');if(!e[l])throw new Error('Scope has not grid item with name "'+l+'"');c=!1,t.on("blur",function(){c&&e[u].updateItem(e[l],a)}),t.bind("keydown keypress",function(n){13===n.which&&c&&"INPUT"===t[0].nodeName&&(e[u].updateItem(e[l],a),n.preventDefault())}),d="",e.$watch(i.$viewValue,function(){d=i.$viewValue}),i.$viewChangeListeners.push(function(){r(d!==i.$viewValue?!0:!1)})}}}}]).directive("neTree",[function(){return{restrict:"EA",templateUrl:"neTree/tree.html",scope:{tree:"=neTree"},replace:!0,link:function(e){e.tree.itemTemplate=e.tree.itemTemplate||"neTree/item.html"}}}]).factory("NeTree",["$timeout","neObject",function(e,t){function n(e){var t,p=[{},n.defaults];for(t=0;t<arguments.length;t++)p.push(arguments[t]);return e=angular.merge.apply(angular,p),this.id=e.id,this.idKey=e.idKey||"id",this.childrenKey=e.childrenKey,this.childrenCountKey=e.childrenCountKey,this.childrenReferenceKey=e.childrenReferenceKey,this.parentReferenceKey=e.parentReferenceKey,this.ancestorsReferenceKey=e.ancestorsReferenceKey,this.getChildrenQuery=e.getChildrenQuery||c,this.maintainReferences=e.maintainReferences||d,this.defaultLimit=e.defaultLimit||10,this.$limit=e.limit||this.defaultLimit,this.maxLimit=e.maxLimit||100,this.defaultQuery=e.defaultQuery||{},this.defaultSort=e.defaultSort||{},this.interceptLoad=e.interceptLoad||e.beforeLoad||e.loadInterceptor,this.onQuery=e.onQueryChange||e.onQuery||e.onFilter,this.onFill=e.onFill||e.onData||e.onLoad,this.onSelect=e.onSelect,this.onFocus=e.onFocus,this.onMove=e.onMove,this.onUpdate=e.onUpdate,this.onCreate=e.onCreate,this.resource=e.restResource||e.resource,this.getResourceMethod=e.getResourceMethod||e.resourceMethod||("function"==typeof this.resource?this.resource:null)||r,this.onRemove=e.onRemove,this.autoLoad=e.autoLoad||e.loadOnChange,this.multiSelect=e.multiSelect||e.multiselect||!1,this.silentMode=!1,this.$query=angular.merge({},{$page:this.$page,$limit:this.$limit},this.defaultQuery),this.items=[],this.itemTemplate=e.itemTemplate||e.include||"neTree/item.html",this.disabled=!0,this.fillItems=h,this.fill=h,this.addItems=w,this.addItem=w,this.appendItems=w,this.appendItem=w,this.prependItems=x,this.prependItem=x,this.setSort=g,this.setSortSilent=i("setSort"),this.setSortBy=m,this.setSortBySilent=i("setSortBy"),this.updateQuery=k,this.updateQuerySilent=i("updateQuery"),this.setQuery=y,this.setQuerySilent=i("setQuery"),this.setFilter=y,this.setFilterSilent=i("setQuery"),this.setPage=b,this.setPageSilent=i("setPage"),this.addPage=$,this.addPageSilent=i("addPage"),this.appendPage=$,this.appendPageSilent=i("addPage"),this.load=v,this.loadItems=v,this.refresh=v,this.refreshItems=v,this.refreshItem=M,this.createItem=D,this.copyItem=C,this.updateItem=S,this.removeItem=T,this.moveItem=O,this.selectItem=L,this.focusItem=P,this.getFocusedItem=E,this.getSelectedItems=q,this.selectedItems=[],this.focusedItem=null,this.walkItems=a,this.walk=a,this.getParentOf=o,this.getParentsOf=s,this.getAncestorsOf=s,this.getChildrenOf=l,this.getChildrenCountOf=u,this}function i(e){return function(){var t=this;return t.silentMode=!0,t[e].apply(t,arguments),t.silentMode=!1,t}}function r(e){if(!this.resource)throw new Error("NeTree: resource is undefined");return this.resource[e]}function a(e,t){1===arguments.length&&(t=arguments[0],e=null);var n=this;if(!e||e===n||t(e,n.getParentOf(e))!==!0)return function i(e,t,n){var r;for(e=e||[],r=0;r<e.length;r++)if(n(e[r],t)===!0)return;for(r=0;r<e.length;r++)e[r].$children&&e[r].$children.length>0&&i(e[r].$children,e[r],n)}(e?e.$children||(e===n?n.items:[]):n.items,e,t)}function o(e){var t;return this.walkItems(function(n){return n.$children&&n.$children.indexOf(e)>=0?(t=n,!0):!1}),t}function s(e,t){var n,i=this;return t=t||[],n=i.getParentOf(e),n?(t.unshift(n),i.getAncestorsOf(n,t)):t}function l(e){if(!e)throw new Error("Wrong arguments");return e.$children}function u(e){if(!e)throw new Error("Wrong arguments");return(e.$children||[]).length}function c(e){var n=this,i=n.idKey,r=n.ancestorsReferenceKey,a=n.parentReferenceKey,o=n.childrenReferenceKey,s={};if(r)e?(s.$and=[{},{}],s.$and[0][r]={$size:(t.deepGet(e,r)||[]).length+1},s.$and[1][r]=t.deepGet(e,i)):s[r]={$size:0};else if(a)s[a]=t.deepGet(e,i);else{if(!o)throw new Error('Cannot create query, "ancestorsReferenceKey", or "parentReferenceKey", or "childrenReferenceKey" not set');s[o]=t.deepGet(e,o)}return s}function d(e,n,i){var r,a,o,s,l,u,c,d,p,h,f,g;e&&n&&(r=this,a=r.idKey,o=r.ancestorsReferenceKey,s=r.ancestorsReferenceKey,l=r.childrenReferenceKey,u=r.childrenCountKey,o&&!i&&(c=t.deepGet(e,o)||[],c.push(t.deepGet(e,a)),t.deepSet(n,o,c)),s&&!i&&(d=t.deepGet(e,a),t.deepSet(n,s,d)),l&&(p=t.deepGet(e,l)||[],h=t.deepGet(n,a),i?(f=p.indexOf(h),f>-1&&p.splice(f,1)):p.push(t.deepGet(n,a)),t.deepSet(e,l,p)),u&&(g=t.deepGet(e,u)||0,t.deepSet(e,u,g+(n?1:-1))))}function p(e,t,n){var i=this;n=n||{},t[e+"limit"]=t[e+"limit"]||i.defaultLimit,t[e+"pagination"]=n,t[e+"pagesCount"]=Math.ceil(n.count/t[e+"limit"]),void 0!==n.prev?t[e+"prevDisabled"]=!n.prev:n.page<=1&&(t[e+"prevDisabled"]=!0),void 0!==n.next?t[e+"nextDisabled"]=!n.next:n.page>=t[e+"pagesCount"]&&(t[e+"nextDisabled"]=!0),t[e+"paginationDisabled"]=t[e+"prevDisabled"]&&t[e+"nextDisabled"]}function h(e,t,n,i){var r=this;return r.disabled=!1,Array.isArray(arguments[0])&&(n=arguments[1],t=arguments[0],e=null),3===arguments.length&&"string"==typeof arguments[2]&&(i=arguments[2],n=e?e.$pagination:null),t=Array.isArray(t)?t:[t],e?(["push","append"].indexOf(i)>-1?Array.prototype.push.apply(e.$children,t):["unshift","prepend"].indexOf(i)>-1?Array.prototype.unshift.apply(e.$children,t):e.$children=t,p("$",e,n)):(["push","append"].indexOf(i)>-1?Array.prototype.push.apply(r.items,t):["unshift","prepend"].indexOf(i)>-1?Array.prototype.unshift.apply(r.items,t):r.items=t,p("$",r,n)),f(r,e),"function"!=typeof r.onFill||r.silentMode||(e?r.onFill(e,e.$children,e.$pagination,e.$query):r.onFill(r,r.items,r.$pagination,r.$query)),this}function f(e,n){e.walkItems(n,function(n,i){if(e.childrenKey){var r=t.deepGet(n,e.childrenKey);r&&!n.$children&&(n.$children=r)}n.$level=i?i.$level+1:0})}function g(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t=arguments[0],e=null);var i=this;return e?e.$sort=t:i.$sort=t,grid.setPage("first",e,n)}function m(e,t,n){if("string"==typeof arguments[0]&&(n=arguments[1],t=arguments[0],e=null),t){var i={};return i[t]=n,this.setSort(e,i)}}function v(e,t,n){var i,r,a,o=this;return 2===arguments.length&&"function"==typeof arguments[1]?(n=arguments[1],t=!1):1===arguments.length&&"function"==typeof arguments[0]&&(n=arguments[0],t=!1,e=null),i=e?o.getChildrenOf(e):o.items,r=e?o.getChildrenCountOf(e):o.items.length,!e||!i||i.length<r||t?(!o.interceptLoad||o.interceptLoad&&o.interceptLoad((e||o).$query,e)!==!1)&&(a=e?e.$query||{}:o.$query||{},a=angular.merge({},{$page:1,$limit:o.$limit||o.defaultLimit},a,o.getChildrenQuery(e)),a.$sort&&(a.$sort=angular.merge({},o.defaultSort,a.$sort)),e&&(e.$query=a),o.disabled=!0,o.getResourceMethod("find",e)(a,function(i,r){o.fillItems(e,i,r,t),n&&n(i),o.disabled=!1})):n&&n(o.items),o}function b(e,t,n,i){var r,a;return"function"==typeof arguments[0]?(n=arguments[0],t=null):"function"==typeof arguments[1]&&(n=arguments[1],t=arguments[0],e=null),r=this,e=e||r,e.$pagination=e.$pagination||{},a="number"==typeof t?t:"first"===t?1:"next"===t?e.$pagination.page+1:"last"===t?e.$pagesCount:"prev"===t?e.$pagination.page-1:"refresh"===t||null===t?e.$pagination.page||1:1,e.$pagesCount&&a>e.$pagesCount&&"number"!=typeof t&&(a=e.$pagesCount+0),0>=a&&(a=1),e.$page=a,r.updateQuery(e,i),r.autoLoad&&!r.silentMode?r.load(e,!0,n):(n&&n(),r)}function y(e,t,n){2===arguments.length&&(n=arguments[1],t=arguments[0],e=null),e=e||i;var i=this;return e.$query=angular.merge({},i.defaultQuery||{},t||{}),i.setPage(e,e.$query.$page||"first",n,t),i}function $(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],"number"==typeof arguments[0]?(limit=arguments[0],e=null):limit=null);var i=this;return t=t||"next",i.setPageSilent(e,t),i.autoLoad&&!i.silentMode?i.load(e,"push",n):(n&&n(),i)}function w(e,t){1===arguments.length&&(t=arguments[0],e=null);var n=this;if(t)return n.fillItems(e,t,"push"),n}function x(e,t){1===arguments.length&&(t=arguments[0],e=null);var n=this;if(t)return n.fillItems(e,t,"unshift"),n}function k(e,t){var n,i;return 1===arguments.length&&(t=arguments[0],e=null),n=this,t=t||{},e=e||n,e.$page=t.$page||e.$page,e.$limit=t.$limit||e.$limit||n.$limit,e.$sort=t.$sort||e.$sort,e.$page&&("number"!=typeof e.$page||e.$page<=0)&&(e.$page=1),!e.$limit||e.$limit<0?e.$limit=n.defaultLimit:e.$limit>n.maxLimit&&(e.$limit=n.maxLimit),i=angular.merge({},t,{$limit:e.$limit,$sort:{},$page:e.$page}),e.$sort&&(i.$sort=e.$sort),i.$sort=angular.merge({},n.defaultSort||{},e.$sort||{}),0===Object.keys(i.$sort).length&&delete i.$sort,e.$query&&(delete e.$query.$page,delete e.$query.$sort,delete e.$query.$limit),e.$query=angular.merge(i,e.$query||{}),n.onQuery&&!n.silentMode&&n.onQuery(e.$query,e),n}function C(e,n,i){var r=angular.copy(e);return t.deepRemove(r,this.idKey),this.createItem(this.getParentOf(e),r,n,i)}function D(e,n,i,r){var a,o=this;return"boolean"==typeof arguments[1]?(r=arguments[2],i=arguments[1],n=arguments[0],e=null):3===arguments.length&&"function"==typeof arguments[2]?(r=arguments[2],i=!1):2===arguments.length&&"function"==typeof arguments[1]?(r=arguments[1],n=arguments[0],e=null):1===arguments.length&&(n=arguments[0],e=null),a=n,o.maintainReferences(e,n),o.getResourceMethod("create",n,e)(n,function(a){n=angular.merge(n,a),i&&e&&o.maintainReferences(e,n),i?e&&e.$children?(e.$expanded=!0,o.appendItems(e,a),"function"==typeof r&&r(a),"function"==typeof o.onCreate&&o.onCreate(a)):o.load(e,function(n){e&&(e.$expanded=!0);for(var i=0;i<n.length;i++)if(t.deepGet(n[i],o.idKey)===t.deepGet(a,o.idKey)){"function"==typeof r&&r(n[i]),"function"==typeof o.onCreate&&o.onCreate(n[i]);break}}):("function"==typeof r&&r(n),"function"==typeof o.onCreate&&o.onCreate(n))}),o}function S(e,t){return this.getResourceMethod("update",e)(e,function(n){e=angular.merge(e,n),t&&t(e)}),this}function M(e,n){var i=this.idKey,r={};return r[i]=t.deepGet(e,i),this.getResourceMethod("find",e)(r,function(t){var i=e.$expanded;e=t,i?v(e,function(){n&&n(e)}):n&&n(e)}),this}function O(){}function T(e,t){var n=this;n.getResourceMethod("remove",e)(e,function(){n.maintainReferences(n.getParentOf(e),e,!0);var i=n.getParentOf(e);i?i.$children.splice(i.$children.indexOf(e),1):n.items.splice(n.items.indexOf(e),1),"function"==typeof t&&t()})}function P(e,t){var n=this,i=e.$focused?!0:!1;return n.focusedItem&&n.focusedItem!==e&&(n.focusedItem.$focused=!1),e.$focused=t?!e.$focused:!0,n.focusedItem=t&&i?null:e,"function"==typeof n.onFocus&&n.onFocus(e),n}function E(){return this.focusedItem}function L(e){var t,n,i=this,r=!i.multiSelect,a=e.$selected;if(r){for(t=0;t<i.selectedItems.length;t++)i.selectedItems[t].$selected&&(i.selectedItems[t].$selected=!1);a?i.selectedItems=[]:(e.$selected=!0,i.selectedItems=[e])}else e.$selected?(e.$selected=!1,n=i.selectedItems.indexOf(e),n>=0&&i.selectedItems.splice(n,1)):(e.$selected=!0,i.selectedItems.push(e));"function"==typeof i.onSelect&&i.onSelect(e,e.$selected)}function q(){return this.selectedItems}return n.defaults={},n}]),function(e,t){"use strict";var n,i,r,a=["ng","oc.lazyLoad"],o={},s=[],l=[],u=[],c=[],d=e.noop,p={},h=[],f=e.module("oc.lazyLoad",["ng"]);f.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(n,f,g,m,v,b){function y(t,n,i){var o,s,l,c,f,g;if(n){for(c=[],o=n.length-1;o>=0;o--)if(s=n[o],e.isString(s)||(s=x(s)),s&&-1===h.indexOf(s)&&(!S[s]||-1!==u.indexOf(s))){if(f=-1===a.indexOf(s),l=r(s),f&&(a.push(s),y(t,l.requires,i)),l._runBlocks.length>0)for(p[s]=[];l._runBlocks.length>0;)p[s].push(l._runBlocks.shift());e.isDefined(p[s])&&(f||i.rerun)&&(c=c.concat(p[s])),w(t,l._invokeQueue,s,i.reconfig),w(t,l._configBlocks,s,i.reconfig),d(f?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),n.pop(),h.push(s)}g=t.getInstanceInjector(),e.forEach(c,function(e){g.invoke(e)})}}function $(t,n){function i(t,n){var i,a=!0;return n.length&&(i=r(t),e.forEach(n,function(e){a=a&&r(e)!==i})),a}function r(t){return e.isArray(t)?D(t.toString()):e.isObject(t)?D(C(t)):e.isDefined(t)&&null!==t?D(t.toString()):t}var a,s=t[2][0],l=t[1],u=!1;if(e.isUndefined(o[n])&&(o[n]={}),e.isUndefined(o[n][l])&&(o[n][l]={}),a=function(e,t){o[n][l].hasOwnProperty(e)||(o[n][l][e]=[]),i(t,o[n][l][e])&&(u=!0,o[n][l][e].push(t),d("ocLazyLoad.componentLoaded",[n,l,e]))},e.isString(s))a(s,t[2][1]);else{if(!e.isObject(s))return!1;e.forEach(s,function(t,n){e.isString(t)?a(t,s[1]):a(n,t)})}return u}function w(t,n,i,r){var a,o,l,u,c,d,p,h;if(n)for(a=0,o=n.length;o>a;a++)if(l=n[a],e.isArray(l)){if(null!==t){if(!t.hasOwnProperty(l[0]))throw new Error("unsupported provider "+l[0]);u=t[l[0]]}if(c=$(l,i),"invoke"!==l[1])c&&e.isDefined(u)&&u[l[1]].apply(u,l[2]);else if(d=function(t){var n=s.indexOf(i+"-"+t);(-1===n||r)&&(-1===n&&s.push(i+"-"+t),e.isDefined(u)&&u[l[1]].apply(u,l[2]))},e.isFunction(l[2][0]))d(l[2][0]);else if(e.isArray(l[2][0]))for(p=0,h=l[2][0].length;h>p;p++)e.isFunction(l[2][0][p])&&d(l[2][0][p])}}function x(t){var n=null;return e.isString(t)?n=t:e.isObject(t)&&t.hasOwnProperty("name")&&e.isString(t.name)&&(n=t.name),n}function k(t){if(!e.isString(t))return!1;try{return r(t)}catch(n){if(/No module/.test(n)||n.message.indexOf("$injector:nomod")>-1)return!1}}var C,D,S={},M={$controllerProvider:n,$compileProvider:g,$filterProvider:m,$provide:f,$injector:v,$animateProvider:b},O=!1,T=!1,P=[],E={};P.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(t){e.isDefined(t.modules)&&(e.isArray(t.modules)?e.forEach(t.modules,function(e){S[e.name]=e}):S[t.modules.name]=t.modules),e.isDefined(t.debug)&&(O=t.debug),e.isDefined(t.events)&&(T=t.events)},this._init=function(n){var i,r,o,s,u;0===l.length&&(i=[n],r=["ng:app","ng-app","x-ng-app","data-ng-app"],o=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,s=function(e){return e&&i.push(e)},e.forEach(r,function(t){r[t]=!0,s(document.getElementById(t)),t=t.replace(":","\\:"),"undefined"!=typeof n[0]&&n[0].querySelectorAll&&(e.forEach(n[0].querySelectorAll("."+t),s),e.forEach(n[0].querySelectorAll("."+t+"\\:"),s),e.forEach(n[0].querySelectorAll("["+t+"]"),s))}),e.forEach(i,function(t){var i,a;0===l.length&&(i=" "+n.className+" ",a=o.exec(i),a?l.push((a[2]||"").replace(/\s+/g,",")):e.forEach(t.attributes,function(e){0===l.length&&r[e.name]&&l.push(e.value)}))})),0!==l.length||(t.jasmine||t.mocha)&&e.isDefined(e.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad."),u=function d(t){if(-1===a.indexOf(t)){a.push(t);var n=e.module(t);w(null,n._invokeQueue,t),w(null,n._configBlocks,t),e.forEach(n.requires,d)}},e.forEach(l,function(e){u(e)}),l=[],c.pop()},C=function(t){try{return JSON.stringify(t)}catch(n){var i=[];return JSON.stringify(t,function(t,n){if(e.isObject(n)&&null!==n){if(-1!==i.indexOf(n))return;i.push(n)}return n})}},D=function(e){var t,n,i,r=0;if(0==e.length)return r;for(t=0,i=e.length;i>t;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r},this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(t,n,s,u,p){function f(e){var n=p.defer();return t.error(e.message),n.reject(e),n.promise}var g,m=u("ocLazyLoad");return O||(t={},t.error=e.noop,t.warn=e.noop,t.info=e.noop),M.getInstanceInjector=function(){return g?g:g=n.data("$injector")||e.injector()},d=function(e,n){T&&s.$broadcast(e,n),O&&t.info(e,n)},{_broadcast:d,_$log:t,_getFilesCache:function(){return m},toggleWatch:function(e){e?c.push(!0):c.pop()},getModuleConfig:function(t){if(!e.isString(t))throw new Error("You need to give the name of the module to get");return S[t]?e.copy(S[t]):null},setModuleConfig:function(t){if(!e.isObject(t))throw new Error("You need to give the module config object to set");return S[t.name]=t,t},getModules:function(){return a},isLoaded:function(t){var n,i,r=function(e){var t=a.indexOf(e)>-1;return t||(t=!!k(e)),t};if(e.isString(t)&&(t=[t]),e.isArray(t)){for(n=0,i=t.length;i>n;n++)if(!r(t[n]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:x,_getModule:function(e){try{return r(e)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+C(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:k,_loadDependencies:function(t,n){var i,r,a,o=[],s=this;if(t=s._getModuleName(t),null===t)return p.when();try{i=s._getModule(t)}catch(l){return f(l)}return r=s.getRequires(i),e.forEach(r,function(i){var r,l;if(e.isString(i)){if(r=s.getModuleConfig(i),null===r)return void P.push(i);i=r,r.name=void 0}if(s.moduleExists(i.name))return a=i.files.filter(function(e){return s.getModuleConfig(i.name).files.indexOf(e)<0}),0!==a.length&&s._$log.warn('Module "',t,'" attempted to redefine configuration for dependency. "',i.name,'"\n Additional Files Loaded:',a),e.isDefined(s.filesLoader)?void o.push(s.filesLoader(i,n).then(function(){return s._loadDependencies(i)})):f(new Error("Error: New dependencies need to be loaded from external files ("+i.files+"), but no loader has been defined."));if(e.isArray(i)?(l=[],e.forEach(i,function(e){var t=s.getModuleConfig(e);null===t?l.push(e):t.files&&(l=l.concat(t.files))}),l.length>0&&(i={files:l})):e.isObject(i)&&i.hasOwnProperty("name")&&i.name&&(s.setModuleConfig(i),P.push(i.name)),e.isDefined(i.files)&&0!==i.files.length){if(!e.isDefined(s.filesLoader))return f(new Error('Error: the module "'+i.name+'" is defined in external files ('+i.files+"), but no loader has been defined."));o.push(s.filesLoader(i,n).then(function(){return s._loadDependencies(i)}))}}),p.all(o)},inject:function(t){var n,i,r,a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=this,u=p.defer();if(e.isDefined(t)&&null!==t){if(e.isArray(t))return n=[],e.forEach(t,function(e){n.push(s.inject(e,a,o))}),p.all(n);s._addToLoadList(s._getModuleName(t),!0,o)}if(l.length>0)i=l.slice(),(r=function c(e){P.push(e),E[e]=u.promise,s._loadDependencies(e,a).then(function(){try{h=[],y(M,P,a)}catch(e){return s._$log.error(e.message),void u.reject(e)}l.length>0?c(l.shift()):u.resolve(i)},function(e){u.reject(e)})})(l.shift());else{if(a&&a.name&&E[a.name])return E[a.name];u.resolve()}return u.promise},getRequires:function(t){var n=[];return e.forEach(t.requires,function(e){-1===a.indexOf(e)&&n.push(e)}),n},_invokeQueue:w,_registerInvokeList:$,_register:y,_addToLoadList:i,_unregister:function(t){e.isDefined(t)&&e.isArray(t)&&e.forEach(t,function(e){o[e]=void 0})}}}],this._init(e.element(t.document))}]),n=e.bootstrap,e.bootstrap=function(t,r,a){return e.forEach(r.slice(),function(e){i(e,!0,!0)}),n(t,r,a)},i=function(t,n,i){(c.length>0||n)&&e.isString(t)&&-1===l.indexOf(t)&&(l.push(t),i&&u.push(t))},r=e.module,e.module=function(e,t,n){return i(e,!1,!0),r(e,t,n)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,n,i,r){return{restrict:"A",terminal:!0,priority:1e3,compile:function(a){var o=a[0].innerHTML;return a.html(""),function(a,s,l){var u=r(l.ocLazyLoad);a.$watch(function(){return u(a)||l.ocLazyLoad},function(r){e.isDefined(r)&&t.load(r).then(function(){i.enter(o,s),n(s.contents())(a)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,n,i,r){var a=!1,o=!1,s=i.document.getElementsByTagName("head")[0]||i.document.getElementsByTagName("body")[0];return t.buildElement=function(l,u,c){var d,p,h,f,g,m,v,b,y,$,w,x=n.defer(),k=t._getFilesCache(),C=function(e){var t=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t};switch(e.isUndefined(k.get(u))&&k.put(u,x.promise),l){case"css":d=i.document.createElement("link"),d.type="text/css",d.rel="stylesheet",d.href=c.cache===!1?C(u):u;break;case"js":d=i.document.createElement("script"),d.src=c.cache===!1?C(u):u;break;default:k.remove(u),x.reject(new Error('Requested type "'+l+'" is not known. Could not inject "'+u+'"'))}return d.onload=d.onreadystatechange=function(){d.readyState&&!/^c|loade/.test(d.readyState)||p||(d.onload=d.onreadystatechange=null,p=1,t._broadcast("ocLazyLoad.fileLoaded",u),x.resolve())},d.onerror=function(){k.remove(u),x.reject(new Error("Unable to load "+u))},d.async=c.serie?0:1,h=s.lastChild,c.insertBefore&&(f=e.element(e.isDefined(window.jQuery)?c.insertBefore:document.querySelector(c.insertBefore)),f&&f.length>0&&(h=f[0])),h.parentNode.insertBefore(d,h),"css"==l&&(a||(g=i.navigator.userAgent.toLowerCase(),/iP(hone|od|ad)/.test(i.navigator.platform)?(m=i.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=parseFloat([parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3]||0,10)].join(".")),o=6>v):g.indexOf("android")>-1?(b=parseFloat(g.slice(g.indexOf("android")+8)),o=4.4>b):g.indexOf("safari")>-1&&(y=g.match(/version\/([\.\d]+)/i),o=y&&y[1]&&parseFloat(y[1])<6)),o&&($=1e3,w=r(function(){try{d.sheet.cssRules,r.cancel(w),d.onload()}catch(e){--$<=0&&d.onerror()}},20))),x.promise},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.filesLoader=function(i){var r,a,o,s,l,u,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=[],p=[],h=[],f=[],g=null,m=t._getFilesCache();return t.toggleWatch(!0),e.extend(c,i),r=function(n){var i,r=null;if(e.isObject(n)&&(r=n.type,n=n.path),g=m.get(n),e.isUndefined(g)||c.cache===!1){if(null!==(i=/^(css|less|html|htm|js)?(?=!)/.exec(n))&&(r=i[1],n=n.substr(i[1].length+1,n.length)),!r)if(null!==(i=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(n)))r=i[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+n);r="js"}"css"!==r&&"less"!==r||-1!==d.indexOf(n)?"html"!==r&&"htm"!==r||-1!==p.indexOf(n)?"js"===r||-1===h.indexOf(n)?h.push(n):t._$log.error("File type is not valid. "+n):p.push(n):d.push(n)}else g&&f.push(g)},c.serie?r(c.files.shift()):e.forEach(c.files,function(e){r(e)}),d.length>0&&(a=n.defer(),t.cssLoader(d,function(n){e.isDefined(n)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),a.reject(n)):a.resolve()},c),f.push(a.promise)),p.length>0&&(o=n.defer(),t.templatesLoader(p,function(n){e.isDefined(n)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),o.reject(n)):o.resolve()},c),f.push(o.promise)),h.length>0&&(s=n.defer(),t.jsLoader(h,function(n){e.isDefined(n)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(n),s.reject(n)):s.resolve()},c),f.push(s.promise)),0===f.length?(l=n.defer(),u="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.",t._$log.error(u),l.reject(u),l.promise):c.serie&&c.files.length>0?n.all(f).then(function(){return t.filesLoader(i,c)}):n.all(f)["finally"](function(e){return t.toggleWatch(!1),e})},t.load=function(i){var r,a,o,s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=this,u=null,c=[],d=n.defer(),p=e.copy(i),h=e.copy(s);return e.isArray(p)?(e.forEach(p,function(e){c.push(l.load(e,h))}),n.all(c).then(function(e){d.resolve(e)},function(e){d.reject(e)}),d.promise):(e.isString(p)?(u=l.getModuleConfig(p),u||(u={files:[p]})):e.isObject(p)&&(u=e.isDefined(p.path)&&e.isDefined(p.type)?{files:[p]}:l.setModuleConfig(p)),null===u?(a=l._getModuleName(p),r='Module "'+(a||"unknown")+'" is not configured, cannot load.',t._$log.error(r),d.reject(new Error(r)),d.promise):(e.isDefined(u.template)&&(e.isUndefined(u.files)&&(u.files=[]),e.isString(u.template)?u.files.push(u.template):e.isArray(u.template)&&u.files.concat(u.template)),o=e.extend({},h,u),e.isUndefined(u.files)&&e.isDefined(u.name)&&t.moduleExists(u.name)?t.inject(u.name,o,!0):(t.filesLoader(u,o).then(function(){t.inject(null,o).then(function(e){d.resolve(e)},function(e){d.reject(e)})},function(e){d.reject(e)}),d.promise)))},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.cssLoader=function(i,r,a){var o=[];e.forEach(i,function(e){o.push(t.buildElement("css",e,a))}),n.all(o).then(function(){r()},function(e){r(e)})},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.jsLoader=function(i,r,a){var o=[];e.forEach(i,function(e){o.push(t.buildElement("js",e,a))}),n.all(o).then(function(){r()},function(e){r(e)})},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,n,i,r){return t.templatesLoader=function(a,o,s){var l=[],u=t._getFilesCache();return e.forEach(a,function(t){var a=i.defer();l.push(a.promise),r.get(t,s).success(function(i){e.isString(i)&&i.length>0&&e.forEach(e.element(i),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&n.put(e.id,e.innerHTML)}),e.isUndefined(u.get(t))&&u.put(t,!0),a.resolve()}).error(function(e){a.reject(new Error('Unable to load template file "'+t+'": '+e))})}),i.all(l).then(function(){o()},function(e){o(e)})},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,i,r,a;if(null==this)throw new TypeError('"this" is null or not defined');if(i=Object(this),r=i.length>>>0,0===r)return-1;if(a=+t||0,Math.abs(a)===1/0&&(a=0),a>=r)return-1;for(n=Math.max(a>=0?a:r-Math.abs(a),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,i,r){function a(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(i,{addClass:"in",easing:"ease",to:{height:i[0].scrollHeight+"px"}}).start().done(o):e.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(o)}function o(){i.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function s(){return i.hasClass("collapse")||i.hasClass("in")?(i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(i,{removeClass:"in",to:{height:"0"}}).start().done(l):e.removeClass(i,"in",{to:{height:"0"}}).then(l))):l()}function l(){i.css({height:"0"}),i.removeClass("collapsing").addClass("collapse")}t.$watch(r.uibCollapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,i){var r=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,a,o){function s(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(a,{addClass:"in",easing:"ease",to:{height:a[0].scrollHeight+"px"}}).start().done(l):e.addClass(a,"in",{to:{height:a[0].scrollHeight+"px"}}).then(l)}function l(){a.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function u(){return a.hasClass("collapse")||a.hasClass("in")?(a.css({height:a[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(r?r(a,{removeClass:"in",to:{height:"0"}}).start().done(c):e.removeClass(a,"in",{to:{height:"0"}}).then(c))):c()}function c(){a.css({height:"0"}),a.removeClass("collapsing").addClass("collapse")}i||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(o.collapse,function(e){e?u():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){
this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,i,r){r||i.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,i,r,a){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),a.addGroup(n),n.openClass=r.openClass||"panel-open",n.panelClass=r.panelClass,n.$watch("isOpen",function(e){i.toggleClass(n.openClass,!!e),e&&a.closeOthers(n)}),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,i,r,a,o){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),a.setHeading(o(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,i,r,a){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch(function(){return a[r.accordionTransclude]},function(e){e&&(i.find("span").html(""),i.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$timeout",function(e,t,n){e.closeable=!!t.close,angular.isDefined(t.dismissOnTimeout)&&n(function(){e.close()},parseInt(t.dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,i,r){r||i.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,i){var r=i[0],a=i[1];t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(r.toggleEvent,function(){if(!n.disabled){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.uibBtnRadio)),a.$render()})}})}}}).directive("uibBtnCheckbox",["$document",function(e){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,n,i,r){function a(){return s(i.btnCheckboxTrue,!0)}function o(){return s(i.btnCheckboxFalse,!1)}function s(e,n){return angular.isDefined(e)?t.$eval(e):n}var l=r[0],u=r[1];n.find("input").css({display:"none"}),u.$render=function(){n.toggleClass(l.activeClass,angular.equals(u.$modelValue,a()))},n.on(l.toggleEvent,function(){i.disabled||t.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?o():a()),u.$render()})}),n.on("keypress",function(r){i.disabled||32!==r.which||e[0].activeElement!==n[0]||t.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?o():a()),u.$render()})})}}}]),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,i,r,a){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var o=a[0],s=a[1];i.find("input").css({display:"none"}),s.$render=function(){i.toggleClass(o.activeClass,angular.equals(s.$modelValue,n.$eval(r.btnRadio)))},i.bind(o.toggleEvent,function(){if(!r.disabled){var e=i.hasClass(o.activeClass);(!e||angular.isDefined(r.uncheckable))&&n.$apply(function(){s.$setViewValue(e?null:n.$eval(r.btnRadio)),s.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,r,a,o){function s(){return u(a.btnCheckboxTrue,!0)}function l(){return u(a.btnCheckboxFalse,!1)}function u(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var c=o[0],d=o[1];r.find("input").css({display:"none"}),d.$render=function(){r.toggleClass(c.activeClass,angular.equals(d.$modelValue,s()))},r.bind(c.toggleEvent,function(){a.disabled||i.$apply(function(){d.$setViewValue(r.hasClass(c.activeClass)?l():s()),d.$render()})}),r.on("keypress",function(t){a.disabled||32!==t.which||e[0].activeElement!==r[0]||i.$apply(function(){d.$setViewValue(r.hasClass(c.activeClass)?l():s()),d.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function r(t,n,r){p||(angular.extend(t,{direction:r,active:!0}),angular.extend(h.currentSlide||{},{direction:r,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&h.slides.length>1&&(t.$element.data(v,t.direction),h.currentSlide&&h.currentSlide.$element&&h.currentSlide.$element.data(v,t.direction),e.$currentTransition=!0,g?i.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),h.currentSlide=t,b=n,o())}function a(e){if(angular.isUndefined(f[e].index))return f[e];{var t;f.length}for(t=0;t<f.length;++t)if(f[t].index==e)return f[t]}function o(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;d&&!isNaN(t)&&t>0&&f.length?e.next():e.pause()}function u(t){t.length||(e.$currentTransition=null)}var c,d,p,h=this,f=h.slides=e.slides=[],g=angular.version.minor>=4,m="uib-noTransition",v="uib-slideDirection",b=-1;h.currentSlide=null,p=!1,h.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>h.getCurrentIndex()?"next":"prev"),t&&t!==h.currentSlide&&!e.$currentTransition&&r(t,i,n)},e.$on("$destroy",function(){p=!0}),h.getCurrentIndex=function(){return h.currentSlide&&angular.isDefined(h.currentSlide.index)?+h.currentSlide.index:b},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:f.indexOf(e)},e.next=function(){var t=(h.getCurrentIndex()+1)%f.length;return 0===t&&e.noWrap()?void e.pause():h.select(a(t),"next")},e.prev=function(){var t=h.getCurrentIndex()-1<0?f.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===f.length-1?void e.pause():h.select(a(t),"prev")},e.isActive=function(e){return h.currentSlide===e},e.$watch("interval",o),e.$watchCollection("slides",u),e.$on("$destroy",s),e.play=function(){d||(d=!0,o())},e.pause=function(){e.noPause||(d=!1,s())},h.addSlide=function(t,n){t.$element=n,f.push(t),1===f.length||t.active?(h.select(f[f.length-1]),1===f.length&&e.play()):t.active=!1},h.removeSlide=function(e){angular.isDefined(e.index)&&f.sort(function(e,t){return+e.index>+t.index});var t=f.indexOf(e);f.splice(t,1),f.length>0&&e.active?h.select(t>=f.length?f[t-1]:f[t]):b>t&&b--,0===f.length&&(h.currentSlide=null)},e.$watch("noTransition",function(e){t.data(m,e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var i="uib-noTransition",r="uib-slideDirection",a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{beforeAddClass:function(e,o,s){var l,u,c,d;return"active"==o&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)?(l=!1,u=e.data(r),c="next"==u?"left":"right",d=n.bind(this,e,c+" "+u,s),e.addClass(u),a?a(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}):void s()},beforeRemoveClass:function(e,o,s){var l,u,c,d;return"active"===o&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)?(l=!1,u=e.data(r),c="next"==u?"left":"right",d=n.bind(this,e,c,s),a?a(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}):void s()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,i,r){r||i.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,i,r,a){t||e.warn("slide is now deprecated. Use uib-slide instead."),a.addSlide(n,i),n.$on("$destroy",function(){a.removeSlide(n)}),n.$watch("active",function(e){e&&a.select(n)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split("");return angular.forEach(o,function(n,r){var a,o,s=e.indexOf(r);if(s>-1){for(e=e.split(""),i[s]="("+n.regex+")",e[s]="$",a=s+1,o=s+r.length;o>a;a++)i[a]="",e[a]="$";e=e.join(""),t.push({index:s,apply:n.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function r(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var a,o,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){a=t.id,this.parsers={},o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,o,l){var u,c,d,p,h,f,g,m,v;if(!angular.isString(n)||!o)return n;if(o=t.DATETIME_FORMATS[o]||o,o=o.replace(s,"\\$&"),t.id!==a&&this.init(),this.parsers[o]||(this.parsers[o]=i(o)),u=this.parsers[o],c=u.regex,d=u.map,p=n.match(c),p&&p.length){for(angular.isDate(l)&&!isNaN(l.getTime())?h={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),g=1,m=p.length;m>g;g++)v=d[g-1],v.apply&&v.apply.call(h,p[g]);return r(h.year,h.month,h.date)&&(f=new Date(h.year,h.month,h.date,h.hours,h.minutes,h.seconds,h.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n,i=this.offset(t),a={top:0,left:0},o=r(t[0]);return o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft),n=t[0].getBoundingClientRect(),{width:n.width||t.prop("offsetWidth"),height:n.height||t.prop("offsetHeight"),top:i.top-a.top,left:i.left-a.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,a=n.split("-"),o=a[0],s=a[1]||"center",l=i?this.offset(e):this.position(e),u=t.prop("offsetWidth"),c=t.prop("offsetHeight"),d={center:function(){return l.left+l.width/2-u/2},left:function(){return l.left},right:function(){return l.left+l.width}},p={center:function(){return l.top+l.height/2-c/2},top:function(){return l.top},bottom:function(){return l.top+l.height}};switch(o){case"right":r={top:p[s](),left:d[o]()};break;case"left":r={top:p[s](),left:l.left-u};break;case"bottom":r={top:p[o](),left:d[s]()};break;default:r={top:l.top-c,left:d[s]()}}return r}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,i,r,a,o,s){var l,u=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){u[n]=angular.isDefined(t[n])?6>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){u[i]=e?new Date(e):null,u.refreshView()}):u[i]=o[i]?new Date(o[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){u[i]=angular.isDefined(n)?n:t[i],e[i]=u[i],("minMode"==i&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[i])||"maxMode"==i&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[i]))&&(e.datepickerMode=u[i])}):(u[i]=o[i]||null,e[i]=u[i])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(u.activeDate=e,u.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){u.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===u.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"},l=function(){u.element[0].focus()},e.$on("uib:datepicker.focus",l),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?a[t]:29}function r(e){var t,n=new Date(e);return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),a=0;t>a;)n=new Date(r),this.fixTimeZone(n),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t,i,a,o,s,l,u=this.activeDate.getFullYear(),c=this.activeDate.getMonth(),d=new Date(u,c,1),p=this.startingDay-d.getDay(),h=p>0?7-p:-p,f=new Date(d);for(h>0&&f.setDate(-h+1),t=this.getDates(f,42),i=0;42>i;i++)t[i]=angular.extend(this.createDateObject(t[i],this.formatDay),{secondary:t[i].getMonth()!==c,uid:e.uniqueId+"-"+i});for(e.labels=new Array(7),a=0;7>a;a++)e.labels[a]={abbr:n(t[a].date,this.formatDayHeader),full:n(t[a].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(t,7),e.showWeeks)for(e.weekNumbers=[],o=(11-this.startingDay)%7,s=e.rows.length,l=0;s>l;l++)e.weekNumbers.push(r(e.rows[l][o].date))},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e){var t,n=this.activeDate.getDate();"left"===e?n-=1:"up"===e?n-=7:"right"===e?n+=1:"down"===e?n+=7:"pageup"===e||"pagedown"===e?(t=this.activeDate.getMonth()+("pageup"===e?-1:1),this.activeDate.setMonth(t,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)):"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth())),this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){var t,i,r=new Array(12),a=this.activeDate.getFullYear();for(i=0;12>i;i++)t=new Date(a,i,1),this.fixTimeZone(t),r[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+i});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e){var t,n=this.activeDate.getMonth();"left"===e?n-=1:"up"===e?n-=3:"right"===e?n+=1:"down"===e?n+=3:"pageup"===e||"pagedown"===e?(t=this.activeDate.getFullYear()+("pageup"===e?-1:1),this.activeDate.setFullYear(t)):"home"===e?n=0:"end"===e&&(n=11),this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t){function n(e){return parseInt((e-1)/i,10)*i+1}var i;this.element=t,this.yearpickerInit=function(){i=this.yearRange,this.step={years:i}},this._refreshView=function(){var t,r,a,o=new Array(i);for(r=0,a=n(this.activeDate.getFullYear());i>r;r++)t=new Date(a+r,0,1),this.fixTimeZone(t),o[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[o[0].label,o[i-1].label].join(" - "),e.rows=this.split(o,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e){var t=this.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*this.step.years:"home"===e?t=n(this.activeDate.getFullYear()):"end"===e&&(t=n(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(t)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0]||i[2],a=i[1];a.init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0]||i[2],a=i[1];a.init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0]||i[2];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,i,r,a,o,s,l,u,c,d){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=u.parse(t,v,e.date);return isNaN(n)?void 0:n}return void 0}return null}function f(e,t){var i,r=e||t;return n.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?(i=u.parse(r,v),!isNaN(i)):!1:!0):!0}function g(n){var i=S[0],r=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||a||e.$apply(function(){e.isOpen=!1})}function m(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var v,b,y,$,w,x,k,C,D,S,M={},O=!1;e.watchData={},this.init=function(s){if(D=s,b=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,$=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):c.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,x=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(v=c.html5Types[n.type],O=!0):(v=n.datepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",function(e){var t=e||c.datepickerPopup;if(t!==v&&(v=t,D.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")})),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if(O&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(k=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),k.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),C=angular.element(k.children()[0]),C.attr("template-url",x),O&&"month"===n.type&&(C.attr("datepicker-mode",'"month"'),C.attr("min-mode","month")),n.datepickerOptions){var d=e.$parent.$eval(n.datepickerOptions);d&&d.initDate&&(e.initDate=d.initDate,C.attr("init-date","initDate"),delete d.initDate),angular.forEach(d,function(e,t){C.attr(p(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){var i,a;n[t]&&(i=r(n[t]),e.$parent.$watch(i,function(n){e.watchData[t]=n,("minDate"===t||"maxDate"===t)&&(M[t]=new Date(n))}),C.attr(p(t),"watchData."+t),"datepickerMode"===t&&(a=i.assign,e.$watch("watchData."+t,function(t,n){angular.isFunction(a)&&t!==n&&a(e.$parent,t)})))}),n.dateDisabled&&C.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&C.attr("show-weeks",n.showWeeks),n.customClass&&C.attr("custom-class","customClass({ date: date, mode: mode })"),O?D.$formatters.push(function(t){return e.date=t,t}):(D.$$parserName="date",D.$validators.date=f,D.$parsers.unshift(h),D.$formatters.push(function(t){return e.date=t,D.$isEmpty(t)?t:l(t,v)})),D.$viewChangeListeners.push(function(){e.date=u.parse(D.$viewValue,v,e.date)}),t.bind("keydown",m),S=i(k)(e),k.remove(),y?a.find("body").append(S):t.after(S),e.$on("$destroy",function(){e.isOpen===!0&&(o.$$phase||e.$apply(function(){e.isOpen=!1})),S.remove(),t.unbind("keydown",m),a.unbind("click",g)})},e.getText=function(t){return e[t+"Text"]||c[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,M.minDate)<0||e.watchData.maxDate&&e.compare(t,M.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?l(e.date,v):null;t.val(i),D.$setViewValue(i),b&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",function(n){n?(e.position=y?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),d(function(){$&&e.$broadcast("uib:datepicker.focus"),a.bind("click",g)},0,!1)):a.unbind("click",g)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",
customClass:"&"},link:function(e,t,n,i){var r=i[0],a=i[1];a.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,i,r,a,o,s,l){var u,c,d;l||r.warn("DatepickerController is now deprecated. Use UibDatepickerController instead."),u=this,c={$setViewValue:angular.noop},this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){u[n]=angular.isDefined(t[n])?6>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){u[i]=e?new Date(e):null,u.refreshView()}):u[i]=o[i]?new Date(o[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){u[i]=angular.isDefined(n)?n:t[i],e[i]=u[i],("minMode"==i&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[i])||"maxMode"==i&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[i]))&&(e.datepickerMode=u[i])}):(u[i]=o[i]||null,e[i]=u[i])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(u.activeDate=e,u.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){u.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===u.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"},d=function(){u.element[0].focus()},e.$on("uib:datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,i,r,a){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var o=a[0],s=a[1];o.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,i,r,a){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var o=a[0],s=a[1];s.init(o)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,i,r,a){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var o=a[0],s=a[1];s.init(o)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,i,r,a){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var o=a[0];angular.extend(o,a[1]),o.yearpickerInit(),o.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,i,r,a){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var o=a[0],s=a[1];s.init(o)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n,i,r=null;this.open=function(t){r||(e.bind("click",n),e.bind("keydown",i)),r&&r!==t&&(r.isOpen=!1),r=t},this.close=function(t){r===t&&(r=null,e.unbind("click",n),e.unbind("keydown",i))},n=function(e){var n,i;r&&(e&&"disabled"===r.getAutoClose()||(n=r.getToggleElement(),e&&n&&n[0].contains(e.target)||(i=r.getDropdownElement(),e&&"outsideClick"===r.getAutoClose()&&i&&i[0].contains(e.target)||(r.isOpen=!1,t.$$phase||r.$apply()))))},i=function(e){27===e.which?(r.focusToggleElement(),n()):r.isKeynavEnabled()&&/(38|40)/.test(e.which)&&r.isOpen&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,a,o,s,l,u,c){var d,p,h,f=this,g=e.$new(),m=r.openClass,v=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,y=!1,$=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,function(e){g.isOpen=!!e})),y=angular.isDefined(n.dropdownAppendToBody),$=angular.isDefined(n.uibKeyboardNav),y&&f.dropdownMenu&&(l.find("body").append(f.dropdownMenu),t.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return $},g.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(n,i){var r,l,p,h;y&&f.dropdownMenu&&(r=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),l={top:r.top+"px",display:n?"block":"none"},p=f.dropdownMenu.hasClass("dropdown-menu-right"),p?(l.left="auto",l.right=window.innerWidth-(r.left+t.prop("offsetWidth"))+"px"):(l.left=r.left+"px",l.right="auto"),f.dropdownMenu.css(l)),o[n?"addClass":"removeClass"](t,m).then(function(){angular.isDefined(n)&&n!==i&&b(e,{open:!!n})}),n?(f.dropdownMenuTemplateUrl&&c(f.dropdownMenuTemplateUrl).then(function(e){d=g.$new(),u(e.trim())(d,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t})}),g.focusToggleElement(),a.open(g)):(f.dropdownMenuTemplateUrl&&(d&&d.$destroy(),h=angular.element('<ul class="dropdown-menu"></ul>'),f.dropdownMenu.replaceWith(h),f.dropdownMenu=h),a.close(g),f.selectedOption=null),angular.isFunction(v)&&v(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==g.getAutoClose()&&(g.isOpen=!1)}),h=e.$on("$destroy",function(){g.$destroy()}),g.$on("$destroy",h)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:i.selectedOption=angular.isNumber(i.selectedOption)?i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:0;break;case 38:i.selectedOption=angular.isNumber(i.selectedOption)?0===i.selectedOption?0:i.selectedOption-1:t.length-1}t[i.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,i,r,a,o,s,l,u,c,d,p){var h,f,g,m,v,b,y,$,w,x,k;p||d.warn("DropdownController is now deprecated. Use UibDropdownController instead."),h=this,f=e.$new(),m=r.openClass,b=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,$=!1,w=!1,x=null,t.addClass("dropdown"),this.init=function(){n.isOpen&&(v=i(n.isOpen),b=v.assign,e.$watch(v,function(e){f.isOpen=!!e})),$=angular.isDefined(n.dropdownAppendToBody),w=angular.isDefined(n.uibKeyboardNav),$&&h.dropdownMenu&&(l.find("body").append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return w},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:h.selectedOption=angular.isNumber(h.selectedOption)?h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:0;break;case 38:h.selectedOption=angular.isNumber(h.selectedOption)?0===h.selectedOption?0:h.selectedOption-1:n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){var r,l,d,p;$&&h.dropdownMenu&&(r=s.positionElements(t,h.dropdownMenu,"bottom-left",!0),l={top:r.top+"px",display:n?"block":"none"},d=h.dropdownMenu.hasClass("dropdown-menu-right"),d?(l.left="auto",l.right=window.innerWidth-(r.left+t.prop("offsetWidth"))+"px"):(l.left=r.left+"px",l.right="auto"),h.dropdownMenu.css(l)),o[n?"addClass":"removeClass"](t,m).then(function(){angular.isDefined(n)&&n!==i&&y(e,{open:!!n})}),n?(h.dropdownMenuTemplateUrl&&c(h.dropdownMenuTemplateUrl).then(function(e){g=f.$new(),u(e.trim())(g,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t})}),f.focusToggleElement(),a.open(f)):(h.dropdownMenuTemplateUrl&&(g&&g.$destroy(),p=angular.element('<ul class="dropdown-menu"></ul>'),h.dropdownMenu.replaceWith(p),h.dropdownMenu=p),a.close(f),h.selectedOption=null),angular.isFunction(b)&&b(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}),k=e.$on("$destroy",function(){f.$destroy()}),f.$on("$destroy",k)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,i,r,a){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),a.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,i,r,a){if(a){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),i.addClass("dropdown-menu");var o=r.templateUrl;o&&(a.dropdownMenuTemplateUrl=o),a.dropdownMenu||(a.dropdownMenu=i)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,i,r,a){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),i.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,i,r,a){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),a){i.addClass("dropdown-toggle"),a.toggleElement=i;var o=function(e){e.preventDefault(),i.hasClass("disabled")||r.disabled||n.$apply(function(){a.toggle()})};i.bind("click",o),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(a.isOpen,function(e){i.attr("aria-expanded",!!e)}),n.$on("$destroy",function(){i.unbind("click",o)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t].key);return n},top:function(){return e[e.length-1]},remove:function(t){var n,i=-1;for(n=0;n<e.length;n++)if(t==e[n].key){i=n;break}return e.splice(i,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i,r=e[t];r&&(i=r.indexOf(n),-1!==i&&r.splice(i,1),r.length||delete e[t])}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,a){i.addClass("modal-backdrop"),a.modalInClass&&(r?r(i,{addClass:a.modalInClass}).start():e.addClass(i,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var o=n();r?r(i,{removeClass:a.modalInClass}).start().then(o):e.removeClass(i,a.modalInClass).then(o)}))}var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,i){var r=null;return i.has("$animateCss")&&(r=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,a,o){a.addClass(o.windowClass||""),a.addClass(o.windowTopClass||""),i.size=o.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",i.close),i.$isRendered=!0;var s=t.defer();o.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s,l=null;o.modalInClass&&(l=r?r(a,{addClass:o.modalInClass}).start():n.addClass(a,o.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();r?r(a,{removeClass:o.modalInClass}).start().then(i):n.removeClass(a,o.modalInClass).then(i)})),t.when(l).then(function(){var e=a[0].querySelectorAll("[autofocus]");e.length?e[0].focus():a[0].focus()}),s=e.getTop(),s&&e.modalRendered(s.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,i,r,a,o,s,l){function u(){var e,t=-1,n=b.keys();for(e=0;e<n.length;e++)b.get(n[e]).value.backdrop&&(t=e);return t}function c(e,t){var i=n.find("body").eq(0),r=b.get(e).value;b.remove(e),h(r.modalDomEl,r.modalScope,function(){var t=r.openedClass||g;y.remove(t,e),i.toggleClass(t,y.hasKey(t)),d(!0)}),p(),t&&t.focus?t.focus():i.focus()}function d(e){var t;b.length()>0&&(t=b.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function p(){if(m&&-1==u()){var e=v;h(m,v,function(){e=null}),m=void 0,v=void 0}}function h(t,n,i){function r(){r.done||(r.done=!0,C?C(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),i&&i())}var o,s=null,l=function(){return o||(o=a.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast($.NOW_CLOSING_EVENT,l),a.when(s).then(r)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var g,m,v,b,y,$,w,x,k,C=null;return o.has("$animateCss")&&(C=o.get("$animateCss")),g="modal-open",b=l.createNew(),y=s.createNew(),$={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,k="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]",r.$watch(u,function(e){v&&(v.index=e)}),n.bind("keydown",function(e){var t,n;if(e.isDefaultPrevented())return e;if(t=b.top(),t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),r.$apply(function(){$.dismiss(t.key,"escape key press")});break;case 9:$.loadFocusElementList(t),n=!1,e.shiftKey?$.isFocusInFirstItem(e)&&(n=$.focusLastFocusableElement()):$.isFocusInLastItem(e)&&(n=$.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),$.open=function(e,t){var a,o,s,l,c,p=n[0].activeElement,h=t.openedClass||g;d(!1),b.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),y.put(h,e),a=n.find("body").eq(0),o=u(),o>=0&&!m&&(v=r.$new(!0),v.index=o,s=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),s.attr("backdrop-class",t.backdropClass),t.animation&&s.attr("modal-animation","true"),m=i(s)(v),a.append(m)),l=angular.element('<div uib-modal-window="modal-window"></div>'),l.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:b.length()-1,animate:"animate"}).html(t.content),t.animation&&l.attr("modal-animation","true"),c=i(l)(t.scope),b.top().value.modalDomEl=c,b.top().value.modalOpener=p,a.append(c),a.addClass(h),$.clearFocusListCache()},$.close=function(e,t){var n=b.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},$.dismiss=function(e,t){var n=b.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},$.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},$.getTop=function(){return b.top()},$.modalRendered=function(e){var t=b.get(e);t&&t.value.renderDeferred.resolve()},$.focusFirstFocusableElement=function(){return w.length>0?(w[0].focus(),!0):!1},$.focusLastFocusableElement=function(){return w.length>0?(w[w.length-1].focus(),!0):!1},$.isFocusInFirstItem=function(e){return w.length>0?(e.target||e.srcElement)==w[0]:!1},$.isFocusInLastItem=function(e){return w.length>0?(e.target||e.srcElement)==w[w.length-1]:!1},$.clearFocusListCache=function(){w=[],x=0},$.loadFocusElementList=function(e){if((void 0===w||!w.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(w=t[0].querySelectorAll(k))}},$}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack",function(t,n,i,r,a,o){function s(e){return e.template?i.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){n.push(angular.isFunction(e)||angular.isArray(e)?i.when(t.invoke(e)):angular.isString(e)?i.when(t.get(e)):i.when(e))}),n}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(t){function r(){return u}var u,d,p=i.defer(),h=i.defer(),f=i.defer(),g={result:p.promise,opened:h.promise,rendered:f.promise,close:function(e){return o.close(g,e)},dismiss:function(e){return o.dismiss(g,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return u=i.all([s(t)].concat(l(t.resolve))),d=c=i.all([c]).then(r,r).then(function(e){var i,r,s,l=(t.scope||n).$new();l.$close=g.close,l.$dismiss=g.dismiss,l.$on("$destroy",function(){l.$$uibDestructionScheduled||l.$dismiss("$uibUnscheduledDestruction")}),r={},s=1,t.controller&&(r.$scope=l,r.$modalInstance=g,angular.forEach(t.resolve,function(t,n){r[n]=e[s++]}),i=a(t.controller,r),t.controllerAs&&(t.bindToController&&angular.extend(i,l),l[t.controllerAs]=i)),o.open(g,{scope:l,deferred:p,renderDeferred:f,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),h.resolve(!0)},function(e){h.reject(e),p.reject(e)})["finally"](function(){c===d&&(c=null)}),g},u}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,i,r){function a(t,a,s){r||i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),a.addClass("modal-backdrop"),s.modalInClass&&(o?o(a,{addClass:s.modalInClass}).start():e.addClass(a,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var i=n();o?o(a,{removeClass:s.modalInClass}).start().then(i):e.removeClass(a,s.modalInClass).then(i)}))}var o=null;return t.has("$animateCss")&&(o=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,i,r,a){var o=null;return i.has("$animateCss")&&(o=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,s,l){a||r.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(l.windowClass||""),s.addClass(l.windowTopClass||""),i.size=l.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var u=t.defer();l.$observe("modalRender",function(e){"true"==e&&u.resolve()}),u.promise.then(function(){var r,a=null;l.modalInClass&&(a=o?o(s,{addClass:l.modalInClass}).start():n.addClass(s,l.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();o?o(s,{removeClass:l.modalInClass}).start().then(i):n.removeClass(s,l.modalInClass).then(i)})),t.when(a).then(function(){var e=s[0].querySelectorAll("[autofocus]");e.length?e[0].focus():s[0].focus()}),r=e.getTop(),r&&e.modalRendered(r.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,i){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),i.modalAnimation&&n.addClass(i.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,i,r,a,o){t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),o(n.$parent,function(e){i.empty(),i.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,i,r,a,o,s,l,u,c,d){d||c.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,u)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,i){return i||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){r=o,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,r,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n,i,r,a,s=[],c=1,d=t,p=angular.isDefined(l)&&t>l;for(p&&(u?(c=Math.max(e-Math.floor(l/2),1),d=c+l-1,d>t&&(d=t,c=d-l+1)):(c=(Math.ceil(e/l)-1)*l+1,d=Math.min(c+l-1,t))),n=c;d>=n;n++)i=o(n,n,n===e),s.push(i);return p&&!u&&(c>1&&(r=o(c-1,"...",!1),s.unshift(r)),t>d&&(a=o(d+1,"...",!1),s.push(a))),s}var l,u,c,d=a[0],p=a[1];p&&(l=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,u=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate,n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,d.init(p,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){l=parseInt(e,10),d.render()}),c=d.render,d.render=function(){c(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))})}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,r){var a=r[0],o=r[1];o&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,i,r){r||i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var a=this,o={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(i,r){o=i,this.config=r,o.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=r.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),e.page>t?e.selectPage(t):o.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(o.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),o.$setViewValue(t),o.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,i){
return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(r,a,o,s){function l(e,t,n){return{number:e,text:t,active:n}}function u(e,t){var n,i,r,a,o=[],s=1,u=t,c=angular.isDefined(p)&&t>p;for(c&&(h?(s=Math.max(e-Math.floor(p/2),1),u=s+p-1,u>t&&(u=t,s=u-p+1)):(s=(Math.ceil(e/p)-1)*p+1,u=Math.min(s+p-1,t))),n=s;u>=n;n++)i=l(n,n,n===e),o.push(i);return c&&!h&&(s>1&&(r=l(s-1,"...",!1),o.unshift(r)),t>u&&(a=l(u+1,"...",!1),o.push(a))),o}var c,d,p,h,f;i||n.warn("pagination is now deprecated. Use uib-pagination instead."),c=s[0],d=s[1],d&&(p=angular.isDefined(o.maxSize)?r.$parent.$eval(o.maxSize):t.maxSize,h=angular.isDefined(o.rotate)?r.$parent.$eval(o.rotate):t.rotate,r.boundaryLinks=angular.isDefined(o.boundaryLinks)?r.$parent.$eval(o.boundaryLinks):t.boundaryLinks,r.directionLinks=angular.isDefined(o.directionLinks)?r.$parent.$eval(o.directionLinks):t.directionLinks,c.init(d,t),o.maxSize&&r.$parent.$watch(e(o.maxSize),function(e){p=parseInt(e,10),c.render()}),f=c.render,c.render=function(){f(),r.page>0&&r.page<=r.totalPages&&(r.pages=u(r.page,r.totalPages))})}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(i,r,a,o){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=o[0],l=o[1];l&&(i.align=angular.isDefined(a.align)?i.$parent.$eval(a.align):e.align,s.init(l,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,a,o,s,l,u,c,d,p){var h=p.createNew();return s.on("keypress",function(e){if(27===e.which){var t=h.top();t&&(t.value.close(),h.removeTop(),t=null)}}),function(r,c,p,f){function g(e){var t=(e||f.trigger||p).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}var m,v,b,y;return f=angular.extend({},t,i,f),m=e(r),v=u.startSymbol(),b=u.endSymbol(),y="<div "+m+'-popup title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block;"></div>',{compile:function(){var e=a(y);return function(t,n,i){function a(){_.isOpen?p():u()}function u(){(!U||t.$eval(i[c+"Enable"]))&&($(),_.popupDelay?O||(O=o(m,_.popupDelay,!1)):m())}function p(){_.popupCloseDelay?T=o(v,_.popupCloseDelay,!1):v()}function m(){return O&&(o.cancel(O),O=null),T&&(o.cancel(T),T=null),M&&(o.cancel(M),M=null),_.content?(b(),void _.$evalAsync(function(){_.isOpen=!0,w(!0),K()})):angular.noop}function v(){_&&(O&&(o.cancel(O),O=null),P&&(o.cancel(P),P=null),_.$evalAsync(function(){_.isOpen=!1,w(!1),_.animation?M||(M=o(y,150,!1)):y()}))}function b(){D||(S=_.$new(),D=e(S,function(e){A?s.find("body").append(e):n.after(e)}),x())}function y(){k(),M=null,D&&(D.remove(),D=null),S&&(S.$destroy(),S=null)}function $(){var e,n;_.title=i[c+"Title"],_.content=R?R(t):i[r],_.popupClass=i[c+"Class"],_.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement,e=parseInt(i[c+"PopupDelay"],10),n=parseInt(i[c+"PopupCloseDelay"],10),_.popupDelay=isNaN(e)?f.popupDelay:e,_.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function w(e){j&&angular.isFunction(j.assign)&&j.assign(t,e)}function x(){F.length=0,R?(F.push(t.$watch(R,function(e){_.content=e,!e&&_.isOpen&&v()})),F.push(S.$watch(function(){N||(N=!0,S.$$postDigest(function(){N=!1,_&&_.isOpen&&K()}))}))):F.push(i.$observe(r,function(e){_.content=e,!e&&_.isOpen?v():K()})),F.push(i.$observe(c+"Title",function(e){_.title=e,_.isOpen&&K()})),F.push(i.$observe(c+"Placement",function(e){_.placement=e?e:f.placement,_.isOpen&&K()}))}function k(){F.length&&(angular.forEach(F,function(e){e()}),F.length=0)}function C(){var e=i[c+"Trigger"];E(),I=g(e),"none"!==I.show&&I.show.forEach(function(e,t){e===I.hide[t]?n[0].addEventListener(e,a):e&&(n[0].addEventListener(e,u),I.hide[t].split(" ").forEach(function(e){n[0].addEventListener(e,p)})),n.on("keypress",function(e){27===e.which&&p()})})}var D,S,M,O,T,P,E,L,q,A=angular.isDefined(f.appendToBody)?f.appendToBody:!1,I=g(void 0),U=angular.isDefined(i[c+"Enable"]),_=t.$new(!0),N=!1,j=angular.isDefined(i[c+"IsOpen"])?d(i[c+"IsOpen"]):!1,R=f.useContentExp?d(i[r]):!1,F=[],K=function(){D&&D.html()&&(P||(P=o(function(){D.css({top:0,left:0});var e=l.positionElements(n,D,_.placement,A);e.top+="px",e.left+="px",e.visibility="visible",D.css(e),P=null},0,!1)))};_.origScope=t,_.isOpen=!1,h.add(_,{close:v}),_.contentExp=function(){return _.content},i.$observe("disabled",function(e){O&&e&&(o.cancel(O),O=null),e&&_.isOpen&&v()}),j&&t.$watch(j,function(e){!e===_.isOpen&&a()}),E=function(){I.show.forEach(function(e){n.unbind(e,u)}),I.hide.forEach(function(e){e.split(" ").forEach(function(e){n[0].removeEventListener(e,p)})})},C(),L=t.$eval(i[c+"Animation"]),_.animation=angular.isDefined(L)?!!L:f.animation,q=t.$eval(i[c+"AppendToBody"]),A=angular.isDefined(q)?q:A,A&&t.$on("$locationChangeSuccess",function(){_.isOpen&&v()}),t.$on("$destroy",function(){o.cancel(M),o.cancel(O),o.cancel(T),o.cancel(P),E(),y(),h.remove(_),_=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,a,o){var s,l,u,c=r.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++d;t?(i(t,!0).then(function(i){var r,l,h;o===d&&(r=c.$new(),l=i,h=n(l)(r,function(t){p(),e.enter(t,a)}),s=r,u=h,s.$emit("$includeContentLoaded",t))},function(){o===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,i){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),i.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,i,r,a){return{link:function(o,s,l){var u,c,d,p,h,f;a||r.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead."),u=o.$eval(l.tooltipTemplateTranscludeScope),c=0,f=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(e.leave(h).then(function(){p=null}),p=h,h=null)},o.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude),function(t){var r=++c;t?(i(t,!0).then(function(i){var a,o,l;r===c&&(a=u.$new(),o=i,l=n(o)(a,function(t){f(),e.enter(t,s)}),d=a,h=l,d.$emit("$includeContentLoaded",t))},function(){r===c&&(f(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):f()}),o.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,i,r){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&i.addClass(n.placement),n.popupClass&&i.addClass(n.popupClass),n.animation()&&i.addClass(r.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,i){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),i.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,i){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,i){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,i){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),i.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,i){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),i.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,i){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),i.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,a){r||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=a&&angular.isDefined(a.title)?a.title:"progressbar",t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("max",function(){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,i,r){r||i.warn("ProgressController is now deprecated. Use UibProgressController instead.");var a=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,i){o||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,i,r,a){t||e.warn("bar is now deprecated. Use uib-bar instead."),a.addBar(n,i)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,i,r,a){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),a.addBar(n,angular.element(i.children()[0]),{title:r.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){var a,o;i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles,this.titles=angular.isArray(a)&&a.length>0?a:n.titles,o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max),e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,i,r){r||i.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,i,r,a){t||e.warn("rating is now deprecated. Use uib-rating instead.");var o=a[0],s=a[1];o.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n=this,i=n.tabs=e.tabs=[];n.select=function(e){angular.forEach(i,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},n.addTab=function(e){i.push(e),1===i.length&&e.active!==!1?e.active=!0:e.active?n.select(e):e.active=!1},n.removeTab=function(e){var r,a=i.indexOf(e);e.active&&i.length>1&&!t&&(r=a==i.length-1?a-1:a+1,n.select(i[r])),i.splice(a,1)},e.$on("$destroy",function(){t=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,i,r,a){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,i){i||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,i,r){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=angular.isDefined(r.vertical)?n.$parent.$eval(r.vertical):!1,n.justified=angular.isDefined(r.justified)?n.$parent.$eval(r.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(i,r,a,o,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),i.$watch("active",function(e){e&&o.select(i)}),i.disabled=!1,a.disable&&i.$parent.$watch(e(a.disable),function(e){i.disabled=!!e}),i.select=function(){i.disabled||(i.active=!0)},o.addTab(i),i.$on("$destroy",function(){o.removeTab(i)}),i.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,i){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",function(e){e&&(i.html(""),i.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){function n(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(i,r,a){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var o=i.$eval(a.tabContentTransclude);o.$transcludeFn(o.$parent,function(e){angular.forEach(e,function(e){n(e)?o.headingElement=e:r.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,a,o){function s(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===w[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){d(),$.$setViewValue(new Date(y)),p(e)}function d(){$.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=y.getHours(),i=y.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n),"m"!==t&&(e.minutes=u(i)),e.meridian=y.getHours()<12?w[0]:w[1]}function h(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function f(e){y=h(y,e),c()}var g,m,v,b,y=new Date,$={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){var r,a,s,l;$=t,$.$render=this.render,$.$formatters.unshift(function(e){return e?new Date(e):null}),r=i.eq(0),a=i.eq(1),s=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel,s&&this.setupMousewheelEvents(r,a),l=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys,l&&this.setupArrowkeyEvents(r,a),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)},g=o.hourStep,n.hourStep&&e.$parent.$watch(i(n.hourStep),function(e){g=parseInt(e,10)}),m=o.minuteStep,n.minuteStep&&e.$parent.$watch(i(n.minuteStep),function(e){m=parseInt(e,10)}),e.$parent.$watch(i(n.min),function(e){var t=new Date(e);v=isNaN(t)?void 0:t}),e.$parent.$watch(i(n.max),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=h(y,60*g);return e>b||y>e&&v>e},e.noDecrementHours=function(){var e=h(y,60*-g);return v>e||e>y&&e>b},e.noIncrementMinutes=function(){var e=h(y,m);return e>b||y>e&&v>e},e.noDecrementMinutes=function(){var e=h(y,-m);return v>e||e>y&&e>b},e.noToggleMeridian=function(){return y.getHours()<13?h(y,720)>b:h(y,-720)<v},e.showMeridian=o.showMeridian,n.showMeridian&&e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,$.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(y.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){$.$setViewValue(null),$.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=s(),t=l();angular.isDefined(e)&&angular.isDefined(t)?(y.setHours(e),v>y||y>b?i(!0):c("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=l(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(y.setMinutes(e),v>y||y>b?i(void 0,!0):c("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var t=$.$viewValue;isNaN(t)?($.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(y=t),v>y||y>b?($.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),p())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*g)},e.decrementHours=function(){e.noDecrementHours()||f(60*-g)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(m)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-m)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(y.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,i,r,a){a||r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,i("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,i,r,a){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var o=a[0],s=a[1];s&&o.init(s,i.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,a,o,s,l,u,c,d){function p(){q.moveInProgress||(q.moveInProgress=!0,q.$digest()),F&&o.cancel(F),F=o(function(){q.matches.length&&h(),q.moveInProgress=!1},Q)}function h(){q.position=k?c.offset(t):c.position(t),q.position.top+=t.prop("offsetHeight")}var f,g,m,v,b,y,$,w,x,k,C,D,S,M,O,T,P,E,L,q,A,I,U,_,N,j,R,F,K,V,B,H,W,z=[9,13,27,38,40],Q=200,G=e.$eval(n.typeaheadMinLength);G||0===G||(G=1),m=e.$eval(n.typeaheadWaitMs)||0,v=e.$eval(n.typeaheadEditable)!==!1,b=r(n.typeaheadLoading).assign||angular.noop,y=r(n.typeaheadOnSelect),$=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,w=r(n.typeaheadNoResults).assign||angular.noop,x=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,
k=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,C=n.typeaheadAppendToElementId||!1,D=e.$eval(n.typeaheadFocusFirst)!==!1,S=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,M=r(n.ngModel),O=r(n.ngModel+"($$$p)"),T=function(t,n){return angular.isFunction(M(e))&&g&&g.$options&&g.$options.getterSetter?O(t,{$$$p:n}):M.assign(t,n)},P=d.parse(n.uibTypeahead),q=e.$new(),A=e.$on("$destroy",function(){q.$destroy()}),q.$on("$destroy",A),I="typeahead-"+q.$id+"-"+Math.floor(1e4*Math.random()),t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":I}),U=angular.element("<div uib-typeahead-popup></div>"),U.attr({id:I,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&U.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",n.typeaheadPopupTemplateUrl),_=function(){q.matches=[],q.activeIdx=-1,t.attr("aria-expanded",!1)},N=function(e){return I+"-option-"+e},q.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",N(e))}),j=function(e,t){return q.matches.length>t&&e?e.toUpperCase()===q.matches[t].label.toUpperCase():!1},R=function(n){var i={$viewValue:n};b(e,!0),w(e,!1),a.when(P.source(e,i)).then(function(r){var a,o=n===f.$viewValue;if(o&&E)if(r&&r.length>0){for(q.activeIdx=D?0:-1,w(e,!1),q.matches.length=0,a=0;a<r.length;a++)i[P.itemName]=r[a],q.matches.push({id:N(a),label:P.viewMapper(q,i),model:r[a]});q.query=n,h(),t.attr("aria-expanded",!0),S&&1===q.matches.length&&j(n,0)&&q.select(0)}else _(),w(e,!0);o&&b(e,!1)},function(){_(),b(e,!1),w(e,!0)})},k&&(angular.element(l).bind("resize",p),s.find("body").bind("scroll",p)),q.moveInProgress=!1,q.query=void 0,V=function(e){K=o(function(){R(e)},m)},B=function(){K&&o.cancel(K)},_(),q.select=function(i){var r,a,s={};L=!0,s[P.itemName]=a=q.matches[i].model,r=P.modelMapper(e,s),T(e,r),f.$setValidity("editable",!0),f.$setValidity("parse",!0),y(e,{$item:a,$model:r,$label:P.viewMapper(e,s)}),_(),q.$eval(n.typeaheadFocusOnSelect)!==!1&&o(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==q.matches.length&&-1!==z.indexOf(e.which)){if(-1===q.activeIdx&&(9===e.which||13===e.which))return _(),void q.$digest();e.preventDefault(),40===e.which?(q.activeIdx=(q.activeIdx+1)%q.matches.length,q.$digest()):38===e.which?(q.activeIdx=(q.activeIdx>0?q.activeIdx:q.matches.length)-1,q.$digest()):13===e.which||9===e.which?q.$apply(function(){q.select(q.activeIdx)}):27===e.which&&(e.stopPropagation(),_(),q.$digest())}}),t.bind("blur",function(){$&&q.matches.length&&-1!==q.activeIdx&&!L&&(L=!0,q.$apply(function(){q.select(q.activeIdx)})),E=!1,L=!1}),H=function(e){t[0]!==e.target&&3!==e.which&&0!==q.matches.length&&(_(),u.$$phase||q.$digest())},s.bind("click",H),e.$on("$destroy",function(){s.unbind("click",H),(k||C)&&W.remove(),U.remove()}),W=i(U)(q),k?s.find("body").append(W):C!==!1?angular.element(s[0].getElementById(C)).append(W):t.after(W),this.init=function(t,n){f=t,g=n,f.$parsers.unshift(function(t){return E=!0,0===G||t&&t.length>=G?m>0?(B(),V(t)):R(t):(b(e,!1),B(),_()),v?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var n,i,r={};return v||f.$setValidity("editable",!0),x?(r.$model=t,x(e,r)):(r[P.itemName]=t,n=P.viewMapper(e,r),r[P.itemName]=void 0,i=P.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i){return i||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i,r,a,o,s,l,u,c){var d=[9,13,27,38,40],p=200;return{require:["ngModel","^?ngModelOptions"],link:function(h,f,g,m){function v(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),z&&i.cancel(z),z=i(function(){j.matches.length&&b(),j.moveInProgress=!1},p)}function b(){j.position=T?s.offset(f):s.position(f),j.position.top+=f.prop("offsetHeight")}var y,$,w,x,k,C,D,S,M,O,T,P,E,L,q,A,I,U,_,N,j,R,F,K,V,B,H,W,z,Q,G,Y,X,Z;c||u.warn("typeahead is now deprecated. Use uib-typeahead instead."),y=m[0],$=m[1],w=h.$eval(g.typeaheadMinLength),w||0===w||(w=1),x=h.$eval(g.typeaheadWaitMs)||0,k=h.$eval(g.typeaheadEditable)!==!1,C=t(g.typeaheadLoading).assign||angular.noop,D=t(g.typeaheadOnSelect),S=angular.isDefined(g.typeaheadSelectOnBlur)?h.$eval(g.typeaheadSelectOnBlur):!1,M=t(g.typeaheadNoResults).assign||angular.noop,O=g.typeaheadInputFormatter?t(g.typeaheadInputFormatter):void 0,T=g.typeaheadAppendToBody?h.$eval(g.typeaheadAppendToBody):!1,P=g.typeaheadAppendToElementId||!1,E=h.$eval(g.typeaheadFocusFirst)!==!1,L=g.typeaheadSelectOnExact?h.$eval(g.typeaheadSelectOnExact):!1,q=t(g.ngModel),A=t(g.ngModel+"($$$p)"),I=function(e,t){return angular.isFunction(q(h))&&$&&$.$options&&$.$options.getterSetter?A(e,{$$$p:t}):q.assign(e,t)},U=l.parse(g.typeahead),j=h.$new(),R=h.$on("$destroy",function(){j.$destroy()}),j.$on("$destroy",R),F="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random()),f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":F}),K=angular.element("<div typeahead-popup></div>"),K.attr({id:F,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(g.typeaheadTemplateUrl)&&K.attr("template-url",g.typeaheadTemplateUrl),angular.isDefined(g.typeaheadPopupTemplateUrl)&&K.attr("popup-template-url",g.typeaheadPopupTemplateUrl),V=function(){j.matches=[],j.activeIdx=-1,f.attr("aria-expanded",!1)},B=function(e){return F+"-option-"+e},j.$watch("activeIdx",function(e){0>e?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",B(e))}),H=function(e,t){return j.matches.length>t&&e?e.toUpperCase()===j.matches[t].label.toUpperCase():!1},W=function(e){var t={$viewValue:e};C(h,!0),M(h,!1),n.when(U.source(h,t)).then(function(n){var i,r=e===y.$viewValue;if(r&&_)if(n&&n.length>0){for(j.activeIdx=E?0:-1,M(h,!1),j.matches.length=0,i=0;i<n.length;i++)t[U.itemName]=n[i],j.matches.push({id:B(i),label:U.viewMapper(j,t),model:n[i]});j.query=e,b(),f.attr("aria-expanded",!0),L&&1===j.matches.length&&H(e,0)&&j.select(0)}else V(),M(h,!0);r&&C(h,!1)},function(){V(),C(h,!1),M(h,!0)})},T&&(angular.element(a).bind("resize",v),r.find("body").bind("scroll",v)),j.moveInProgress=!1,V(),j.query=void 0,G=function(e){Q=i(function(){W(e)},x)},Y=function(){Q&&i.cancel(Q)},y.$parsers.unshift(function(e){return _=!0,0===w||e&&e.length>=w?x>0?(Y(),G(e)):W(e):(C(h,!1),Y(),V()),k?e:e?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)}),y.$formatters.push(function(e){var t,n,i={};return k||y.$setValidity("editable",!0),O?(i.$model=e,O(h,i)):(i[U.itemName]=e,t=U.viewMapper(h,i),i[U.itemName]=void 0,n=U.viewMapper(h,i),t!==n?t:e)}),j.select=function(e){var t,n,r={};N=!0,r[U.itemName]=n=j.matches[e].model,t=U.modelMapper(h,r),I(h,t),y.$setValidity("editable",!0),y.$setValidity("parse",!0),D(h,{$item:n,$model:t,$label:U.viewMapper(h,r)}),V(),j.$eval(g.typeaheadFocusOnSelect)!==!1&&i(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==j.matches.length&&-1!==d.indexOf(e.which)){if(-1===j.activeIdx&&(9===e.which||13===e.which))return V(),void j.$digest();e.preventDefault(),40===e.which?(j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest()):38===e.which?(j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest()):13===e.which||9===e.which?j.$apply(function(){j.select(j.activeIdx)}):27===e.which&&(e.stopPropagation(),V(),j.$digest())}}),f.bind("blur",function(){S&&j.matches.length&&-1!==j.activeIdx&&!N&&(N=!0,j.$apply(function(){j.select(j.activeIdx)})),_=!1,N=!1}),X=function(e){f[0]!==e.target&&3!==e.which&&0!==j.matches.length&&(V(),o.$$phase||j.$digest())},r.bind("click",X),h.$on("$destroy",function(){r.unbind("click",X),(T||P)&&Z.remove(),K.remove()}),Z=e(K)(j),T?r.find("body").append(Z):P!==!1?angular.element(r[0].getElementById(P)).append(Z):f.after(Z)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,i,r){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=r.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,o,s){i||r.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=n(s.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(a,function(e){o.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,i){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function a(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,s){return i||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!o&&a(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(r(s),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.bootstrap.ext",["ui.bootstrap"]).config(["uibDatepickerPopupConfig",function(e){e.datetimepickerPopup="dd.MM.yyyy HH:mm",e.showMeridian=!1}]).run(["$templateCache",function(e){e.put("template/datetimepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="max-height:450px;display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li style="text-align:center"><div style="display:inline-block;" uib-timepicker ng-model="date" ng-change="dateSelection(date)" readonly-input="$parent.$parent.readonlyInput" hour-step="$parent.$parent.hourStep" minute-step="$parent.$parent.minuteStep" show-meridian="$parent.$parent.showMeridian" min="$parent.$parent.min" max="$parent.$parent.max"></div></li>\n	<li style="padding:10px 9px 2px">\n		<button type="button" class="btn btn-sm btn-success btn-block" ng-click="$parent.$parent.done ? $parent.$parent.done(date) : close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]).directive("uibDatetimepickerPopup",["dateFilter","dateParser","uibDatepickerPopupConfig",function(e,t,n){return{restrict:"A",require:"ngModel",replace:!0,template:'<input uib-datepicker-popup="{{dateFormat}}" close-on-date-selection="false" uib-datepicker-popup-template-url="template/datetimepicker/popup.html">',
link:function(e,t,i,r){var a,o=!1,s="yyyy-MM-ddTHH:mm:ss.sss";if(e.readonlyInput=i.readonlyInput,e.hourStep=i.hourStep||1,e.minuteStep=i.minuteStep||1,e.showMeridian=i.showMeridian||n.showMeridian,e.min=i.min,e.max=i.max,n.html5Types[i.type]?(a=n.html5Types[i.type],o=!0):(a=i.datetimepickerPopup||n.datetimepickerPopup||s,i.$observe("datetimepickerPopup",function(t){var i=t||n.datetimepickerPopup||s;if(i!==a&&(a=i,e.dateFormat=a,r.$modelValue=null,!a))throw new Error("datepickerPopup must have a date format specified.")})),!a)throw new Error("datepickerPopup must have a date format specified.");e.dateFormat=a}}}]).decorator("uibKeyboardNavDirective",["$delegate",function(e){var t,n;for(n=0;n<e.length;n++)"ui.bootstrap.ext"===e[n].$$moduleName&&(t=e[n]);return[t]}]).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var n=t.find("ul").find("a");switch(e.which){case 40:i.selectedOption=angular.isNumber(i.selectedOption)?i.selectedOption===n.length-1?i.selectedOption:i.selectedOption+1:0;break;case 38:i.selectedOption=angular.isNumber(i.selectedOption)?0===i.selectedOption?0:i.selectedOption-1:n.length-1}n[i.selectedOption]&&n[i.selectedOption].focus()}})}}});
//# sourceMappingURL=./ne-modules-all.min.js.map